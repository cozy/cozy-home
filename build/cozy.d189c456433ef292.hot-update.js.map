{"version":3,"file":"cozy.d189c456433ef292.hot-update.js","sources":["/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/ResultMenu/NotEnoughItem.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/ResultMenu/ResultMenu.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/ResultMenu/ResultMenuContent.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/ResultMenu/ResultMenuItem.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/ResultMenu/SuggestionItemTextHighlighted.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/ResultMenu/SuggestionItemTextSecondary.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/AssistantButton.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/AssistantLink.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/Icons/DocsIcon.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/Icons/EncryptedFolderIcon.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/SearchBar.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/SearchBarDesktop.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/SearchBarMobile.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/SearchProvider.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/getFileMimetype.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/getIconForSearchResult.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Search/useFetchResult.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Views/AssistantDialog.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Views/SearchDialog.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/helpers.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/queries.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/index.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/locales/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ListItem = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItem\"));\n\nvar _ListItemText = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItemText\"));\n\nvar _I18n = require(\"cozy-ui/transpiled/react/providers/I18n\");\n\nvar NotEnoughItem = function NotEnoughItem() {\n  var _useI18n = (0, _I18n.useI18n)(),\n      t = _useI18n.t;\n\n  return /*#__PURE__*/_react.default.createElement(_ListItem.default, {\n    size: \"small\"\n  }, /*#__PURE__*/_react.default.createElement(_ListItemText.default, {\n    primary: t('assistant.search.notEnough')\n  }));\n};\n\nvar _default = NotEnoughItem;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Paper = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Paper\"));\n\nvar _Popper = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Popper\"));\n\nvar _ResultMenuContent = _interopRequireDefault(require(\"./ResultMenuContent\"));\n\nvar styles = {\n  \"resultMenu\": \"styles__resultMenu___o76q-\",\n  \"resultMenu-inner\": \"styles__resultMenu-inner___2Lf0d\",\n  \"resultMenuItem\": \"styles__resultMenuItem___3-bLe\"\n};\n\nvar ResultMenu = function ResultMenu(_ref) {\n  var anchorRef = _ref.anchorRef,\n      listRef = _ref.listRef,\n      onClear = _ref.onClear;\n  return /*#__PURE__*/_react.default.createElement(_Popper.default, {\n    style: {\n      width: anchorRef.current.offsetWidth,\n      zIndex: 'var(--zIndex-popover)'\n    },\n    anchorEl: anchorRef.current,\n    open: Boolean(anchorRef.current),\n    placement: \"bottom-start\"\n  }, /*#__PURE__*/_react.default.createElement(_Paper.default, {\n    className: styles['resultMenu'],\n    square: true\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: styles['resultMenu-inner']\n  }, /*#__PURE__*/_react.default.createElement(_ResultMenuContent.default, {\n    ref: listRef,\n    onClear: onClear\n  }))));\n};\n\nvar _default = ResultMenu;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _cozyDataproxyLib = require(\"cozy-dataproxy-lib\");\n\nvar _List = _interopRequireDefault(require(\"cozy-ui/transpiled/react/List\"));\n\nvar _ListItemSkeleton = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Skeletons/ListItemSkeleton\"));\n\nvar _NoResultItem = _interopRequireDefault(require(\"./NoResultItem\"));\n\nvar _NotEnoughItem = _interopRequireDefault(require(\"./NotEnoughItem\"));\n\nvar _ResultMenuItem = _interopRequireDefault(require(\"./ResultMenuItem\"));\n\nvar _SearchProvider = require(\"../Search/SearchProvider\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar SearchResult = function SearchResult(_ref) {\n  var onClear = _ref.onClear;\n\n  var _useSearch = (0, _SearchProvider.useSearch)(),\n      isLoading = _useSearch.isLoading,\n      results = _useSearch.results,\n      selectedIndex = _useSearch.selectedIndex,\n      searchValue = _useSearch.searchValue;\n\n  if (isLoading && !(results !== null && results !== void 0 && results.length)) {\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_ListItemSkeleton.default, {\n      hasSecondary: true\n    }), /*#__PURE__*/_react.default.createElement(_ListItemSkeleton.default, {\n      hasSecondary: true\n    }), /*#__PURE__*/_react.default.createElement(_ListItemSkeleton.default, {\n      hasSecondary: true\n    }));\n  }\n\n  if (!isLoading && !(results !== null && results !== void 0 && results.length)) {\n    if (searchValue.length >= 3) {\n      return /*#__PURE__*/_react.default.createElement(_NoResultItem.default, null);\n    } else {\n      return /*#__PURE__*/_react.default.createElement(_NotEnoughItem.default, null);\n    }\n  }\n\n  return results.map(function (result, idx) {\n    return /*#__PURE__*/_react.default.createElement(_ResultMenuItem.default, {\n      key: result.id || idx,\n      icon: result.icon,\n      slug: result.slug,\n      url: result.url,\n      primaryText: result.primary,\n      secondaryText: result.secondary,\n      secondaryUrl: result.secondaryUrl,\n      query: searchValue,\n      highlightQuery: \"true\",\n      selected: selectedIndex === idx,\n      onClear: onClear\n    });\n  });\n};\n\nvar ResultMenuContent = /*#__PURE__*/(0, _react.forwardRef)(function (_ref2, ref) {\n  var onClear = _ref2.onClear;\n\n  var _useDataProxy = (0, _cozyDataproxyLib.useDataProxy)(),\n      dataProxyServicesAvailable = _useDataProxy.dataProxyServicesAvailable;\n\n  return /*#__PURE__*/_react.default.createElement(_List.default, {\n    ref: ref\n  }, dataProxyServicesAvailable && /*#__PURE__*/_react.default.createElement(SearchResult, {\n    onClear: onClear\n  }));\n});\nResultMenuContent.displayName = 'ResultMenuContent';\nvar _default = ResultMenuContent;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _AppIcon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/AppIcon\"));\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _ListItem = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItem\"));\n\nvar _ListItemIcon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItemIcon\"));\n\nvar _ListItemText = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItemText\"));\n\nvar _SuggestionItemTextHighlighted = _interopRequireDefault(require(\"./SuggestionItemTextHighlighted\"));\n\nvar _SuggestionItemTextSecondary = _interopRequireDefault(require(\"./SuggestionItemTextSecondary\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar styles = {\n  \"resultMenu\": \"styles__resultMenu___o76q-\",\n  \"resultMenu-inner\": \"styles__resultMenu-inner___2Lf0d\",\n  \"resultMenuItem\": \"styles__resultMenuItem___3-bLe\"\n};\n\nvar ResultMenuItem = function ResultMenuItem(_ref) {\n  var icon = _ref.icon,\n      url = _ref.url,\n      primaryText = _ref.primaryText,\n      secondaryText = _ref.secondaryText,\n      secondaryUrl = _ref.secondaryUrl,\n      slug = _ref.slug,\n      selected = _ref.selected,\n      query = _ref.query,\n      _ref$highlightQuery = _ref.highlightQuery,\n      highlightQuery = _ref$highlightQuery === void 0 ? false : _ref$highlightQuery,\n      onClear = _ref.onClear;\n  var itemRef = (0, _react.useRef)();\n  var iconComponent = icon.type === 'component' ? /*#__PURE__*/_react.default.createElement(_Icon.default, {\n    icon: icon.component,\n    size: 32\n  }) : icon.type === 'app' ? /*#__PURE__*/_react.default.createElement(_AppIcon.default, {\n    app: icon.app\n  }) : icon;\n  var primary = highlightQuery ? /*#__PURE__*/_react.default.createElement(_SuggestionItemTextHighlighted.default, {\n    text: primaryText,\n    query: query\n  }) : primaryText;\n  var secondary = highlightQuery ? /*#__PURE__*/_react.default.createElement(_SuggestionItemTextSecondary.default, {\n    text: secondaryText,\n    query: query,\n    slug: slug,\n    url: secondaryUrl\n  }) : secondaryText;\n  (0, _react.useEffect)(function () {\n    if (selected) {\n      var _itemRef$current;\n\n      itemRef === null || itemRef === void 0 ? void 0 : (_itemRef$current = itemRef.current) === null || _itemRef$current === void 0 ? void 0 : _itemRef$current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  }, [selected]);\n  return /*#__PURE__*/_react.default.createElement(_ListItem.default, {\n    component: \"a\",\n    href: url,\n    ref: itemRef,\n    size: \"small\",\n    selected: selected,\n    className: styles.resultMenuItem,\n    onClick: onClear\n  }, /*#__PURE__*/_react.default.createElement(_ListItemIcon.default, null, iconComponent), /*#__PURE__*/_react.default.createElement(_ListItemText.default, {\n    primary: primary,\n    secondary: secondary\n  }));\n};\n\nvar _default = ResultMenuItem;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar normalizeString = function normalizeString(str) {\n  return str.toString().toLowerCase().replace(/\\//g, ' ').normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').split(' ');\n};\n/**\n * Add <b> on part that equlas query into each result\n *\n * @param {Array} searchResult - list of results\n * @param {string} query - search input\n * @returns list of results with the query highlighted\n */\n\n\nvar highlightQueryTerms = function highlightQueryTerms(searchResult, query) {\n  var normalizedQueryTerms = normalizeString(query);\n  var normalizedResultTerms = normalizeString(searchResult);\n  var matchedIntervals = [];\n  var spacerLength = 1;\n  var currentIndex = 0;\n  normalizedResultTerms.forEach(function (resultTerm) {\n    normalizedQueryTerms.forEach(function (queryTerm) {\n      var index = resultTerm.indexOf(queryTerm);\n\n      if (index >= 0) {\n        matchedIntervals.push({\n          from: currentIndex + index,\n          to: currentIndex + index + queryTerm.length\n        });\n      }\n    });\n    currentIndex += resultTerm.length + spacerLength;\n  }); // matchedIntervals can overlap, so we merge them.\n  // - sort the intervals by starting index\n  // - add the first interval to the stack\n  // - for every interval,\n  // - - add it to the stack if it doesn't overlap with the stack top\n  // - - or extend the stack top if the start overlaps and the new interval's top is bigger\n\n  var mergedIntervals = matchedIntervals.sort(function (intervalA, intervalB) {\n    return intervalA.from > intervalB.from;\n  }).reduce(function (computedIntervals, newInterval) {\n    if (computedIntervals.length === 0 || computedIntervals[computedIntervals.length - 1].to < newInterval.from) {\n      computedIntervals.push(newInterval);\n    } else if (computedIntervals[computedIntervals.length - 1].to < newInterval.to) {\n      computedIntervals[computedIntervals.length - 1].to = newInterval.to;\n    }\n\n    return computedIntervals;\n  }, []); // create an array containing the entire search result, with special characters, and the intervals surrounded y `<b>` tags\n\n  var slicedOriginalResult = mergedIntervals.length > 0 ? [/*#__PURE__*/_react.default.createElement(\"span\", {\n    key: \"0\"\n  }, searchResult.slice(0, mergedIntervals[0].from))] : searchResult;\n\n  for (var i = 0, l = mergedIntervals.length; i < l; ++i) {\n    slicedOriginalResult.push( /*#__PURE__*/_react.default.createElement(\"span\", {\n      className: \"u-primaryColor\"\n    }, searchResult.slice(mergedIntervals[i].from, mergedIntervals[i].to)));\n    if (i + 1 < l) slicedOriginalResult.push( /*#__PURE__*/_react.default.createElement(\"span\", null, searchResult.slice(mergedIntervals[i].to, mergedIntervals[i + 1].from)));\n  }\n\n  if (mergedIntervals.length > 0) slicedOriginalResult.push( /*#__PURE__*/_react.default.createElement(\"span\", null, searchResult.slice(mergedIntervals[mergedIntervals.length - 1].to, searchResult.length)));\n  return slicedOriginalResult;\n};\n\nvar SuggestionItemTextHighlighted = function SuggestionItemTextHighlighted(_ref) {\n  var text = _ref.text,\n      query = _ref.query;\n  if (!text) return null;\n  var textHighlighted = highlightQueryTerms(text, query);\n\n  if (Array.isArray(textHighlighted)) {\n    return textHighlighted.map(function (item, idx) {\n      return _objectSpread(_objectSpread({}, item), {}, {\n        key: idx\n      });\n    });\n  }\n\n  return textHighlighted;\n};\n\nvar _default = SuggestionItemTextHighlighted;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _AppLinker = _interopRequireDefault(require(\"cozy-ui/transpiled/react/AppLinker\"));\n\nvar _Link = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Link\"));\n\nvar _Breakpoints = _interopRequireDefault(require(\"cozy-ui/transpiled/react/providers/Breakpoints\"));\n\nvar _SuggestionItemTextHighlighted = _interopRequireDefault(require(\"./SuggestionItemTextHighlighted\"));\n\n/**\n * Code copied and adapted from cozy-drive\n *\n * See source: https://github.com/cozy/cozy-drive/blob/fbe2df67199683b23a40f476ccdacb00ee027459/src/modules/search/components/SuggestionItemTextSecondary.jsx\n */\nvar SuggestionItemTextSecondary = function SuggestionItemTextSecondary(_ref) {\n  var text = _ref.text,\n      query = _ref.query,\n      url = _ref.url,\n      slug = _ref.slug;\n\n  var _useBreakpoints = (0, _Breakpoints.default)(),\n      isMobile = _useBreakpoints.isMobile;\n\n  if (isMobile || !url) {\n    return /*#__PURE__*/_react.default.createElement(_SuggestionItemTextHighlighted.default, {\n      text: text,\n      query: query\n    });\n  }\n\n  var app = {\n    slug: slug\n  };\n  return /*#__PURE__*/_react.default.createElement(_AppLinker.default, {\n    app: app,\n    href: url\n  }, function (_ref2) {\n    var href = _ref2.href,\n        _onClick = _ref2.onClick;\n    return /*#__PURE__*/_react.default.createElement(_Link.default, {\n      color: \"textSecondary\",\n      underline: \"hover\",\n      href: href,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n\n        if (typeof _onClick == 'function') {\n          _onClick(e);\n        }\n      }\n    }, /*#__PURE__*/_react.default.createElement(_SuggestionItemTextHighlighted.default, {\n      text: text,\n      query: query,\n      slug: slug\n    }));\n  });\n};\n\nvar _default = SuggestionItemTextSecondary;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AssistantButton = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _IconButton = _interopRequireDefault(require(\"cozy-ui/transpiled/react/IconButton\"));\n\nvar _InputAdornment = _interopRequireDefault(require(\"cozy-ui/transpiled/react/InputAdornment\"));\n\nvar _TwakeAssistantIcon = require(\"../AssistantIcon/TwakeAssistantIcon\");\n\nvar _AssistantProvider = require(\"../AssistantProvider\");\n\nvar _helpers = require(\"../helpers\");\n\nvar AssistantButton = function AssistantButton(_ref) {\n  var size = _ref.size;\n\n  var _useAssistant = (0, _AssistantProvider.useAssistant)(),\n      onAssistantExecute = _useAssistant.onAssistantExecute;\n\n  var navigate = (0, _reactRouterDom.useNavigate)();\n\n  var _useLocation = (0, _reactRouterDom.useLocation)(),\n      pathname = _useLocation.pathname;\n\n  var onClick = function onClick() {\n    var conversationId = (0, _helpers.makeConversationId)();\n    onAssistantExecute({\n      value: '',\n      conversationId: conversationId\n    });\n    navigate(\"assistant/\".concat(conversationId, \"?returnPath=\").concat(pathname));\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_InputAdornment.default, {\n    position: \"end\",\n    className: \"u-mr-half\"\n  }, /*#__PURE__*/_react.default.createElement(_IconButton.default, {\n    onClick: onClick,\n    size: \"small\",\n    color: \"primary\"\n  }, /*#__PURE__*/_react.default.createElement(_Icon.default, {\n    icon: _TwakeAssistantIcon.TwakeAssistantIcon,\n    size: size === 'medium' ? 24 : 16\n  })));\n};\n\nexports.AssistantButton = AssistantButton;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _AssistantProvider = _interopRequireWildcard(require(\"../AssistantProvider\"));\n\nvar _helpers = require(\"../helpers\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar AssistantLink = function AssistantLink(_ref) {\n  var children = _ref.children;\n\n  var _useAssistant = (0, _AssistantProvider.useAssistant)(),\n      onAssistantExecute = _useAssistant.onAssistantExecute;\n\n  var navigate = (0, _reactRouterDom.useNavigate)();\n\n  var _useLocation = (0, _reactRouterDom.useLocation)(),\n      pathname = _useLocation.pathname;\n\n  var openAssistant = function openAssistant() {\n    if (!(0, _helpers.isAssistantEnabled)()) return;\n    var conversationId = (0, _helpers.makeConversationId)();\n    onAssistantExecute({\n      value: '',\n      conversationId: conversationId\n    });\n    navigate(\"assistant/\".concat(conversationId, \"?returnPath=\").concat(pathname));\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_AssistantProvider.default, null, children({\n    openAssistant: openAssistant\n  }));\n};\n\nvar AssistantLinkWrapper = function AssistantLinkWrapper(_ref2) {\n  var children = _ref2.children;\n  return /*#__PURE__*/_react.default.createElement(_AssistantProvider.default, null, /*#__PURE__*/_react.default.createElement(AssistantLink, null, children));\n};\n\nvar _default = AssistantLinkWrapper;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\n// TODO: should be moved in cozy-ui\nvar DocsIcon = function DocsIcon() {\n  return /*#__PURE__*/_react.default.createElement(\"svg\", {\n    viewBox: \"0 0 32 33\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/_react.default.createElement(\"path\", {\n    d: \"M21.6305 29.5812C22.7983 29.2538 23.9166 28.6562 24.6505 27.6003C25.3749 26.5663 25.5789 25.2547 25.5789 23.9925V5.50099C25.5789 5.17358 25.5611 4.84557 25.5216 4.52148C26.1016 4.74961 26.5486 5.12658 26.8626 5.65239C27.2331 6.25024 27.4184 7.03757 27.4184 8.01435V26.7964C27.4184 28.1184 27.0942 29.1078 26.4458 29.7646C25.7974 30.4214 24.8207 30.7498 23.5155 30.7498H16.4209C16.5889 30.7204 16.7574 30.6901 16.9262 30.659C18.4067 30.3944 19.9713 30.0354 21.6185 29.5846L21.6305 29.5812Z\",\n    fill: \"#C9191E\"\n  }), /*#__PURE__*/_react.default.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M4.58203 26.405V7.5977C4.58203 6.45251 4.88938 5.58519 5.50408 4.99575C6.1272 4.40631 6.95242 4.08212 7.97972 4.02318C9.49542 3.93055 10.9311 3.80425 12.2868 3.64425C13.6425 3.47584 14.9393 3.28217 16.1771 3.06324C17.4234 2.8443 18.6359 2.60011 19.8148 2.33065C21.0274 2.04435 21.9578 2.1875 22.6062 2.7601C23.2546 3.33269 23.5788 4.24632 23.5788 5.50099V23.9925C23.5788 25.0956 23.3893 25.9166 23.0104 26.4555C22.6315 27.0029 21.9915 27.4028 21.0905 27.6554C19.4906 28.0933 17.9833 28.4386 16.5687 28.6912C15.154 28.9522 13.7731 29.1501 12.4258 29.2848C11.0785 29.4196 9.69751 29.5248 8.28286 29.6006C7.11241 29.668 6.20299 29.4238 5.5546 28.868C4.90622 28.3207 4.58203 27.4997 4.58203 26.405ZM9.20865 11.0124C11.0635 10.8944 12.7632 10.7131 14.3075 10.4683C14.6822 10.4072 15.0564 10.3436 15.4291 10.2776C15.8192 10.2085 16.1013 9.86859 16.1013 9.47337C16.1013 8.96154 15.638 8.57609 15.135 8.66189C14.846 8.71118 14.5555 8.75909 14.2635 8.80562C12.7346 9.04923 11.0452 9.22998 9.19523 9.3477C8.91819 9.36558 8.69776 9.45188 8.55608 9.62391C8.42209 9.78661 8.35645 9.98229 8.35645 10.2053C8.35645 10.4321 8.43296 10.6295 8.58568 10.7918L8.58783 10.7939C8.75336 10.9595 8.96369 11.0311 9.20865 11.0124ZM9.20801 15.206C11.0631 15.088 12.763 14.9066 14.3075 14.6619C15.8588 14.4089 17.3936 14.1138 18.9112 13.7766C19.2191 13.7081 19.4498 13.6003 19.5652 13.433C19.6786 13.2721 19.7347 13.0876 19.7347 12.8832C19.7347 12.6526 19.6469 12.454 19.476 12.2926C19.2921 12.1189 19.0348 12.0784 18.7304 12.1411L18.7285 12.1415C17.2823 12.4694 15.794 12.7553 14.2635 12.9992C12.7346 13.2428 11.0452 13.4235 9.19523 13.5413C8.91819 13.5591 8.69776 13.6454 8.55608 13.8175C8.42276 13.9794 8.35645 14.1705 8.35645 14.3863C8.35645 14.6203 8.43209 14.8223 8.58558 14.9854L8.59 14.9896C8.75499 15.1449 8.96316 15.2155 9.20551 15.2062L9.20801 15.206ZM9.20847 19.3994C11.0634 19.2729 12.7631 19.0874 14.3075 18.8427C15.8589 18.5982 17.3934 18.3073 18.9112 17.97C19.2199 17.9014 19.4508 17.7891 19.566 17.6127C19.6783 17.4529 19.7347 17.2733 19.7347 17.0766C19.7347 16.8461 19.6469 16.6474 19.476 16.4861C19.2921 16.3123 19.0348 16.2718 18.7304 16.3345L18.729 16.3348C17.2827 16.6543 15.7942 16.9361 14.2635 17.18C12.7345 17.4236 11.045 17.6086 9.19495 17.7347C8.91804 17.7526 8.69771 17.8389 8.55608 18.0109C8.42276 18.1728 8.35645 18.3639 8.35645 18.5797C8.35645 18.8137 8.43209 19.0158 8.58558 19.1789L8.59 19.183C8.75499 19.3383 8.96316 19.4089 9.20551 19.3996L9.20847 19.3994ZM14.3075 23.007C12.7632 23.2518 11.0635 23.4331 9.20867 23.5512C8.9637 23.5698 8.75337 23.4982 8.58783 23.3326L8.58572 23.3305C8.433 23.1682 8.35645 22.9708 8.35645 22.7441C8.35645 22.521 8.42209 22.3253 8.55608 22.1626C8.69776 21.9906 8.91827 21.9043 9.19531 21.8864C11.0453 21.7687 12.7346 21.588 14.2635 21.3443C14.5555 21.2978 14.846 21.2499 15.135 21.2006C15.638 21.1148 16.1013 21.5003 16.1013 22.0121C16.1013 22.4073 15.8192 22.7472 15.4291 22.8163C15.0564 22.8823 14.6822 22.9459 14.3075 23.007Z\",\n    fill: \"#000091\"\n  }));\n};\n\nvar _default = DocsIcon;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar EncryptedFolderIcon = function EncryptedFolderIcon(props) {\n  return /*#__PURE__*/_react.default.createElement(\"svg\", (0, _extends2.default)({\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), /*#__PURE__*/_react.default.createElement(\"path\", {\n    opacity: \"0.34\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12.9657 1C13.5206 1 14.2876 1.3125 14.6803 1.6995L16 3H30.0059C31.1072 3 32 3.89498 32 4.997V27.003C32 28.1059 31.1107 29 29.9983 29H2.00174C0.896211 29 0 28.1001 0 27.0088V1.99653C0 1.44616 0.448999 1 1.00472 1H12.9657Z\",\n    fill: \"#297EF2\"\n  }), /*#__PURE__*/_react.default.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M1 1C0.447715 1 0 1.44772 0 2V6C0 6.55228 0.447716 7 1 7H13.5858C13.851 7 14.1054 6.89464 14.2929 6.70711L15.7071 5.29289C15.8946 5.10536 16.149 5 16.4142 5H32C32 3.89543 31.1046 3 30 3H16.4142C16.149 3 15.8946 2.89464 15.7071 2.70711L14.2929 1.29289C14.1054 1.10536 13.851 1 13.5858 1H1ZM10 15.9954V24.0046C10 24.5543 10.4558 25 11.0025 25H20.9975C21.5512 25 22 24.5443 22 24.0046V15.9954C22 15.4457 21.5561 15 21 15H20V13C20 10.794 18.2053 9 16 9C13.794 9 12 10.794 12 13V15H11C10.4477 15 10 15.4557 10 15.9954ZM16 11C14.8968 11 14 12.1215 14 13.5V15H18V13.5C18 12.1215 17.1028 11 16 11ZM17.5 19C17.5 18.172 16.8265 17.5 16 17.5C15.172 17.5 14.5 18.172 14.5 19C14.5 19.552 14.803 20.032 15.25 20.29V22.75C15.25 23.1625 15.586 23.5 16 23.5C16.4125 23.5 16.75 23.1625 16.75 22.75V20.29C17.1955 20.032 17.5 19.552 17.5 19Z\",\n    fill: \"#297EF2\"\n  }));\n};\n\nvar _default = EncryptedFolderIcon;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Breakpoints = require(\"cozy-ui/transpiled/react/providers/Breakpoints\");\n\nvar _SearchBarDesktop = _interopRequireDefault(require(\"./SearchBarDesktop\"));\n\nvar _SearchBarMobile = _interopRequireDefault(require(\"./SearchBarMobile\"));\n\nvar _SearchProvider = require(\"./SearchProvider\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar SearchBar = function SearchBar(_ref) {\n  var componentsProps = _ref.componentsProps;\n\n  var _useBreakpoints = (0, _Breakpoints.useBreakpoints)(),\n      isMobile = _useBreakpoints.isMobile;\n\n  var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      inputValue = _useState2[0],\n      setInputValue = _useState2[1];\n\n  var _useSearch = (0, _SearchProvider.useSearch)(),\n      clearSearch = _useSearch.clearSearch,\n      setSelectedIndex = _useSearch.setSelectedIndex,\n      delayedSetSearchValue = _useSearch.delayedSetSearchValue;\n\n  var handleClear = function handleClear() {\n    setInputValue('');\n    clearSearch();\n  };\n\n  var handleChange = function handleChange(ev) {\n    setSelectedIndex(0);\n    delayedSetSearchValue(ev.target.value);\n    setInputValue(ev.target.value);\n  };\n\n  if (isMobile) {\n    return /*#__PURE__*/_react.default.createElement(_SearchBarMobile.default, {\n      value: inputValue,\n      onClear: handleClear,\n      onChange: handleChange\n    });\n  }\n\n  return /*#__PURE__*/_react.default.createElement(_SearchBarDesktop.default, (0, _extends2.default)({}, componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.SearchBarDesktop, {\n    value: inputValue,\n    onClear: handleClear,\n    onChange: handleChange\n  }));\n};\n\nvar _default = SearchBar;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _ClickAwayListener = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ClickAwayListener\"));\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _Magnifier = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/Magnifier\"));\n\nvar _SearchBar = _interopRequireDefault(require(\"cozy-ui/transpiled/react/SearchBar\"));\n\nvar _AssistantButton = require(\"./AssistantButton\");\n\nvar _SearchProvider = require(\"./SearchProvider\");\n\nvar _ResultMenu = _interopRequireDefault(require(\"../ResultMenu/ResultMenu\"));\n\nvar _helpers = require(\"../helpers\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar styles = {\n  \"searchBarDesktop--result\": \"styles__searchBarDesktop--result___2bQQy\",\n  \"suggestionsPlaceholder\": \"styles__suggestionsPlaceholder___y-vsv\",\n  \"search-bar-icon\": \"styles__search-bar-icon___1affF\"\n};\n\nvar SearchBarDesktop = function SearchBarDesktop(_ref) {\n  var value = _ref.value,\n      onClear = _ref.onClear,\n      onChange = _ref.onChange,\n      elevation = _ref.elevation,\n      size = _ref.size,\n      hasHalfBorderRadius = _ref.hasHalfBorderRadius,\n      className = _ref.className,\n      disabledHover = _ref.disabledHover;\n\n  var _useSearch = (0, _SearchProvider.useSearch)(),\n      searchValue = _useSearch.searchValue,\n      results = _useSearch.results,\n      selectedIndex = _useSearch.selectedIndex,\n      setSelectedIndex = _useSearch.setSelectedIndex;\n\n  var searchRef = (0, _react.useRef)();\n  var listRef = (0, _react.useRef)();\n\n  var handleKeyDown = function handleKeyDown(ev) {\n    var _listRef$current;\n\n    var listElementCount = (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : _listRef$current.childElementCount;\n\n    if (ev.key === 'ArrowDown') {\n      ev.preventDefault();\n\n      if (selectedIndex === listElementCount - 1) {\n        setSelectedIndex(0);\n      } else {\n        setSelectedIndex(function (v) {\n          return v + 1;\n        });\n      }\n    }\n\n    if (ev.key === 'ArrowUp') {\n      ev.preventDefault();\n\n      if (selectedIndex === 0) {\n        setSelectedIndex(listElementCount - 1);\n      } else {\n        setSelectedIndex(function (v) {\n          return v - 1;\n        });\n      }\n    }\n\n    if (ev.key === 'Escape') {\n      ev.preventDefault();\n      onClear();\n    }\n\n    if (ev.key === 'Enter') {\n      ev.preventDefault();\n\n      if (selectedIndex !== undefined) {\n        var _results$selectedInde;\n\n        var onClickFn = results === null || results === void 0 ? void 0 : (_results$selectedInde = results[selectedIndex]) === null || _results$selectedInde === void 0 ? void 0 : _results$selectedInde.onClick;\n        onClear();\n        onClickFn();\n      }\n    }\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_ClickAwayListener.default, {\n    onClickAway: onClear\n  }, /*#__PURE__*/_react.default.createElement(\"span\", null, /*#__PURE__*/_react.default.createElement(_SearchBar.default, {\n    elevation: elevation,\n    className: (0, _classnames.default)(className, searchValue && hasHalfBorderRadius ? styles['searchBarDesktop--result'] : ''),\n    ref: searchRef,\n    size: size,\n    icon: size === 'large' ? /*#__PURE__*/_react.default.createElement(_Icon.default, {\n      className: (0, _classnames.default)('u-mh-1', styles['search-bar-icon']),\n      icon: _Magnifier.default,\n      size: 24\n    }) : /*#__PURE__*/_react.default.createElement(_Icon.default, {\n      className: (0, _classnames.default)('u-ml-1 u-mr-half', styles['search-bar-icon']),\n      icon: _Magnifier.default,\n      size: 16\n    }),\n    value: value,\n    componentsProps: {\n      inputBase: {\n        onKeyDown: handleKeyDown,\n        endAdornment: (0, _helpers.isAssistantEnabled)() && /*#__PURE__*/_react.default.createElement(_AssistantButton.AssistantButton, {\n          size: size\n        })\n      }\n    },\n    disabledClear: true,\n    disabledFocus: value !== '',\n    disabledHover: disabledHover,\n    onChange: onChange\n  }), searchValue && /*#__PURE__*/_react.default.createElement(_ResultMenu.default, {\n    listRef: listRef,\n    anchorRef: searchRef,\n    onClear: onClear\n  })));\n};\n\nSearchBarDesktop.defaultProps = {\n  size: 'large',\n  elevation: 0\n};\nvar _default = SearchBarDesktop;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SearchBar = _interopRequireDefault(require(\"cozy-ui/transpiled/react/SearchBar\"));\n\nvar styles = {\n  \"conversationBar\": \"styles__conversationBar___2J-Us\",\n  \"conversationBar-input\": \"styles__conversationBar-input___2DfdZ\",\n  \"conversationBarSibling\": \"styles__conversationBarSibling___1KTPm\",\n  \"conversationBarSibling--started\": \"styles__conversationBarSibling--started___1T7gW\"\n};\n\nvar SearchBarMobile = function SearchBarMobile(_ref) {\n  var value = _ref.value,\n      onClear = _ref.onClear,\n      onChange = _ref.onChange;\n\n  var handleClear = function handleClear() {\n    onClear();\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_SearchBar.default, {\n    className: styles['conversationBar'],\n    size: \"auto\",\n    icon: null,\n    value: value,\n    componentsProps: {\n      inputBase: {\n        inputProps: {\n          className: styles['conversationBar-input']\n        },\n        autoFocus: true\n      }\n    },\n    onChange: onChange,\n    onClear: handleClear\n  });\n};\n\nvar _default = SearchBarMobile;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useSearch = exports.default = exports.SearchContext = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _debounce = _interopRequireDefault(require(\"lodash/debounce\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _useFetchResult2 = require(\"./useFetchResult\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar SearchContext = /*#__PURE__*/_react.default.createContext();\n\nexports.SearchContext = SearchContext;\n\nvar useSearch = function useSearch() {\n  var context = (0, _react.useContext)(SearchContext);\n\n  if (!context) {\n    throw new Error('useSearch must be used within a SearchProvider');\n  }\n\n  return context;\n};\n\nexports.useSearch = useSearch;\n\nvar SearchProvider = function SearchProvider(_ref) {\n  var children = _ref.children,\n      _ref$searchOptions = _ref.searchOptions,\n      searchOptions = _ref$searchOptions === void 0 ? {} : _ref$searchOptions;\n\n  var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      searchValue = _useState2[0],\n      setSearchValue = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      selectedIndex = _useState4[0],\n      setSelectedIndex = _useState4[1];\n\n  var _useFetchResult = (0, _useFetchResult2.useFetchResult)(searchValue, searchOptions),\n      isLoading = _useFetchResult.isLoading,\n      results = _useFetchResult.results;\n\n  var delayedSetSearchValue = (0, _react.useMemo)(function () {\n    return (0, _debounce.default)(setSearchValue, 250);\n  }, [setSearchValue]);\n  var clearSearch = (0, _react.useCallback)(function () {\n    setSearchValue('');\n    setSelectedIndex();\n  }, []);\n  var value = (0, _react.useMemo)(function () {\n    return {\n      searchValue: searchValue,\n      setSearchValue: setSearchValue,\n      delayedSetSearchValue: delayedSetSearchValue,\n      isLoading: isLoading,\n      clearSearch: clearSearch,\n      selectedIndex: selectedIndex,\n      setSelectedIndex: setSelectedIndex,\n      results: results\n    };\n  }, [searchValue, delayedSetSearchValue, isLoading, clearSearch, selectedIndex, results]);\n  return /*#__PURE__*/_react.default.createElement(SearchContext.Provider, {\n    value: value\n  }, children);\n};\n\nvar _default = /*#__PURE__*/_react.default.memo(SearchProvider);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getFileMimetype = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _mimeTypes = _interopRequireDefault(require(\"mime-types\"));\n\nvar getMimetypeFromFilename = function getMimetypeFromFilename(name) {\n  return _mimeTypes.default.lookup(name) || 'application/octet-stream';\n};\n\nvar mappingMimetypeSubtype = {\n  word: 'text',\n  text: 'text',\n  zip: 'zip',\n  pdf: 'pdf',\n  spreadsheet: 'sheet',\n  excel: 'sheet',\n  sheet: 'sheet',\n  presentation: 'slide',\n  powerpoint: 'slide'\n};\n\nvar getFileMimetype = function getFileMimetype(collection) {\n  return function () {\n    var mime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var mimetype = mime === 'application/octet-stream' ? getMimetypeFromFilename(name.toLowerCase()) : mime;\n\n    var _mimetype$split = mimetype.split('/'),\n        _mimetype$split2 = (0, _slicedToArray2.default)(_mimetype$split, 2),\n        type = _mimetype$split2[0],\n        subtype = _mimetype$split2[1];\n\n    if (collection[type]) {\n      return type;\n    }\n\n    if (type === 'application') {\n      var existingType = subtype.match(Object.keys(mappingMimetypeSubtype).join('|'));\n      return existingType ? mappingMimetypeSubtype[existingType[0]] : undefined;\n    }\n\n    return undefined;\n  };\n};\n\nexports.getFileMimetype = getFileMimetype;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getIconForSearchResult = exports.getDriveMimeTypeIcon = void 0;\n\nvar _get = _interopRequireDefault(require(\"lodash/get\"));\n\nvar _file = require(\"cozy-client/dist/models/file\");\n\nvar _Contacts = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/Contacts\"));\n\nvar _FileTypeAudio = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeAudio\"));\n\nvar _FileTypeBin = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeBin\"));\n\nvar _FileTypeCode = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeCode\"));\n\nvar _FileTypeFiles = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeFiles\"));\n\nvar _FileTypeFolder = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeFolder\"));\n\nvar _FileTypeImage = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeImage\"));\n\nvar _FileTypeNote = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeNote\"));\n\nvar _FileTypePdf = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypePdf\"));\n\nvar _FileTypeSheet = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeSheet\"));\n\nvar _FileTypeSlide = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeSlide\"));\n\nvar _FileTypeText = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeText\"));\n\nvar _FileTypeVideo = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeVideo\"));\n\nvar _FileTypeZip = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/FileTypeZip\"));\n\nvar _DocsIcon = _interopRequireDefault(require(\"./Icons/DocsIcon\"));\n\nvar _EncryptedFolderIcon = _interopRequireDefault(require(\"./Icons/EncryptedFolderIcon\"));\n\nvar _getFileMimetype = require(\"./getFileMimetype\");\n\nvar getIconForSearchResult = function getIconForSearchResult(searchResult) {\n  if (searchResult.doc._type === 'io.cozy.apps') {\n    return {\n      type: 'app',\n      app: searchResult.doc\n    };\n  }\n\n  if (searchResult.slug === 'notes') {\n    return {\n      type: 'component',\n      component: _FileTypeNote.default\n    };\n  }\n\n  if (searchResult.slug === 'drive') {\n    return {\n      type: 'component',\n      component: getDriveMimeTypeIcon(searchResult.doc)\n    };\n  }\n\n  if (searchResult.slug === 'contacts') {\n    return {\n      type: 'component',\n      component: _Contacts.default\n    };\n  }\n\n  return {\n    type: 'component',\n    component: _FileTypeFiles.default\n  };\n};\n/**\n * Returns the appropriate icon for a given file based on its mime type and other properties.\n *\n * This method has been copied from cozy-drive\n *\n * See source: https://github.com/cozy/cozy-drive/blob/fbe2df67199683b23a40f476ccdacb00ee027459/src/lib/getMimeTypeIcon.js\n *\n * @param {import('cozy-client/types/types').IOCozyFile} file - The io.cozy.files .\n * @param {Object} [options] - Additional options.\n * @param {boolean} [options.isEncrypted] - Indicates whether the file is encrypted. Default is false.\n * @returns {import('react').ReactNode} - The icon corresponding to the file's mime type.\n */\n\n\nexports.getIconForSearchResult = getIconForSearchResult;\n\nvar getDriveMimeTypeIcon = function getDriveMimeTypeIcon(file) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$isEncrypted = _ref.isEncrypted,\n      isEncrypted = _ref$isEncrypted === void 0 ? false : _ref$isEncrypted;\n\n  var isDirectory = file.type === 'directory';\n  var name = file.name,\n      mime = file.mime;\n\n  if (isEncrypted) {\n    return _EncryptedFolderIcon.default;\n  }\n\n  if (isDirectory) {\n    return _FileTypeFolder.default;\n  } else if ((0, _file.isNote)(file)) {\n    return _FileTypeNote.default;\n  } else if ((0, _file.isDocs)(file)) {\n    return _DocsIcon.default;\n  } else {\n    var iconsByMimeType = {\n      audio: _FileTypeAudio.default,\n      bin: _FileTypeBin.default,\n      code: _FileTypeCode.default,\n      image: _FileTypeImage.default,\n      pdf: _FileTypePdf.default,\n      slide: _FileTypeSlide.default,\n      sheet: _FileTypeSheet.default,\n      text: _FileTypeText.default,\n      video: _FileTypeVideo.default,\n      zip: _FileTypeZip.default\n    };\n    var type = (0, _getFileMimetype.getFileMimetype)(iconsByMimeType)(mime, name);\n    return (0, _get.default)(iconsByMimeType, type, _FileTypeFiles.default);\n  }\n};\n\nexports.getDriveMimeTypeIcon = getDriveMimeTypeIcon;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useFetchResult = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _react = require(\"react\");\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _cozyClient = require(\"cozy-client\");\n\nvar _cozyDataproxyLib = require(\"cozy-dataproxy-lib\");\n\nvar _cozyMinilog = _interopRequireDefault(require(\"cozy-minilog\"));\n\nvar _getIconForSearchResult = require(\"./getIconForSearchResult\");\n\nvar _excluded = [\"maxRetries\", \"delay\"];\nvar log = (0, _cozyMinilog.default)('🔍 [useFetchResult]');\n\nvar searchWithRetry = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(dataProxy, searchValue) {\n    var options,\n        _options$maxRetries,\n        maxRetries,\n        _options$delay,\n        delay,\n        searchOptions,\n        currentDelay,\n        attempt,\n        searchResults,\n        _args = arguments;\n\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n            _options$maxRetries = options.maxRetries, maxRetries = _options$maxRetries === void 0 ? 5 : _options$maxRetries, _options$delay = options.delay, delay = _options$delay === void 0 ? 500 : _options$delay, searchOptions = (0, _objectWithoutProperties2.default)(options, _excluded);\n            currentDelay = delay; // Make several search attemps in case it is not ready yet\n\n            attempt = 0;\n\n          case 4:\n            if (!(attempt < maxRetries)) {\n              _context.next = 17;\n              break;\n            }\n\n            _context.next = 7;\n            return dataProxy.search(searchValue, searchOptions);\n\n          case 7:\n            searchResults = _context.sent;\n\n            if (!searchResults) {\n              _context.next = 10;\n              break;\n            }\n\n            return _context.abrupt(\"return\", searchResults);\n\n          case 10:\n            log.info(\"Search attempt \".concat(attempt + 1, \" failed, retrying in \").concat(currentDelay, \" ms...\"));\n            _context.next = 13;\n            return new Promise(function (resolve) {\n              return setTimeout(resolve, currentDelay);\n            });\n\n          case 13:\n            currentDelay *= 2; // Exponential backoff\n\n          case 14:\n            attempt++;\n            _context.next = 4;\n            break;\n\n          case 17:\n            log.error(\"Search failed after \".concat(maxRetries, \" attempts\"));\n            return _context.abrupt(\"return\", []);\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function searchWithRetry(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar useFetchResult = function useFetchResult(searchValue) {\n  var searchOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = (0, _cozyClient.useClient)();\n  var navigate = (0, _reactRouterDom.useNavigate)();\n\n  var _useState = (0, _react.useState)({\n    isLoading: true,\n    results: null,\n    searchValue: null\n  }),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var dataProxy = (0, _cozyDataproxyLib.useDataProxy)();\n  (0, _react.useEffect)(function () {\n    var fetch = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(searchValue, searchOptions) {\n        var searchResults, results;\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (dataProxy.dataProxyServicesAvailable) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                log.log('DataProxy services are not available. Skipping search...');\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                setState({\n                  isLoading: true,\n                  results: null,\n                  searchValue: searchValue\n                });\n                _context2.next = 6;\n                return searchWithRetry(dataProxy, searchValue, searchOptions);\n\n              case 6:\n                searchResults = _context2.sent;\n                results = searchResults.map(function (r) {\n                  // Begin Retrocompatibility code, to be removed when following PR is merged: https://github.com/cozy/cozy-web-data-proxy/pull/10\n                  r.slug = r.slug || r.type;\n                  r.subTitle = r.subTitle || r.name; // End Retrocompatibility code\n\n                  var icon = (0, _getIconForSearchResult.getIconForSearchResult)(r);\n                  return {\n                    id: r.doc._id,\n                    icon: icon,\n                    slug: r.slug,\n                    url: r.url,\n                    secondaryUrl: r.secondaryUrl,\n                    primary: r.title,\n                    secondary: r.subTitle,\n                    onClick: function onClick() {\n                      if (r.slug === client.appMetadata.slug) {\n                        try {\n                          var url = new URL(r.url);\n                          var hash = url.hash.replace('#', '');\n                          navigate(hash);\n                        } catch (_unused) {\n                          window.open(r.url);\n                        }\n                      } else {\n                        window.open(r.url);\n                      }\n                    }\n                  };\n                });\n                setState({\n                  isLoading: false,\n                  results: results,\n                  searchValue: searchValue\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function fetch(_x3, _x4) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    if (searchValue) {\n      if (searchValue !== state.searchValue) {\n        fetch(searchValue, searchOptions);\n      }\n    } else {\n      setState({\n        isLoading: true,\n        results: null,\n        searchValue: null\n      });\n    }\n  }, [dataProxy, searchValue, state.searchValue, setState]);\n  return {\n    isLoading: state.isLoading,\n    results: state.results\n  };\n};\n\nexports.useFetchResult = useFetchResult;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _CozyDialogs = require(\"cozy-ui/transpiled/react/CozyDialogs\");\n\nvar _Breakpoints = require(\"cozy-ui/transpiled/react/providers/Breakpoints\");\n\nvar _CozyTheme = _interopRequireDefault(require(\"cozy-ui/transpiled/react/providers/CozyTheme\"));\n\nvar _AssistantProvider = _interopRequireWildcard(require(\"../AssistantProvider\"));\n\nvar _Conversation = _interopRequireDefault(require(\"../Conversations/Conversation\"));\n\nvar _ConversationBar = _interopRequireDefault(require(\"../Conversations/ConversationBar\"));\n\nvar _ConversationLayout = _interopRequireDefault(require(\"../Conversations/ConversationLayout\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar AssistantDialog = function AssistantDialog() {\n  var _useAssistant = (0, _AssistantProvider.useAssistant)(),\n      assistantState = _useAssistant.assistantState;\n\n  var _useBreakpoints = (0, _Breakpoints.useBreakpoints)(),\n      isMobile = _useBreakpoints.isMobile;\n\n  var navigate = (0, _reactRouterDom.useNavigate)();\n\n  var _useSearchParams = (0, _reactRouterDom.useSearchParams)(),\n      _useSearchParams2 = (0, _slicedToArray2.default)(_useSearchParams, 1),\n      searchParams = _useSearchParams2[0];\n\n  var _useParams = (0, _reactRouterDom.useParams)(),\n      conversationId = _useParams.conversationId;\n\n  var onClose = function onClose() {\n    try {\n      var returnPath = searchParams.get('returnPath');\n\n      if (returnPath) {\n        navigate(returnPath);\n      } else {\n        navigate('..');\n      }\n    } catch (_unused) {\n      navigate('..');\n    }\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_CozyDialogs.FixedDialog, {\n    open: true,\n    fullScreen: true,\n    size: \"full\",\n    componentsProps: {\n      dialogTitle: {\n        className: 'u-dn'\n      },\n      dialogActions: {\n        className: 'u-dn'\n      },\n      dialogContent: {\n        className: 'u-p-0'\n      },\n      divider: {\n        className: 'u-dn'\n      }\n    },\n    disableGutters: true,\n    title: isMobile ? ' ' : ' ',\n    content: /*#__PURE__*/_react.default.createElement(_ConversationLayout.default, {\n      conversationId: conversationId,\n      assistantState: assistantState\n    }),\n    onClose: onClose\n  });\n};\n\nvar AssistantDialogWithProviders = function AssistantDialogWithProviders() {\n  return /*#__PURE__*/_react.default.createElement(_CozyTheme.default, {\n    variant: \"normal\"\n  }, /*#__PURE__*/_react.default.createElement(_AssistantProvider.default, null, /*#__PURE__*/_react.default.createElement(AssistantDialog, null)));\n};\n\nvar _default = AssistantDialogWithProviders;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _CozyDialogs = require(\"cozy-ui/transpiled/react/CozyDialogs\");\n\nvar _CozyTheme = _interopRequireDefault(require(\"cozy-ui/transpiled/react/providers/CozyTheme\"));\n\nvar _useExtendI18n = _interopRequireDefault(require(\"cozy-ui/transpiled/react/providers/I18n/useExtendI18n\"));\n\nvar _locales = require(\"../../locales\");\n\nvar _AssistantProvider = _interopRequireDefault(require(\"../AssistantProvider\"));\n\nvar _ResultMenuContent = _interopRequireDefault(require(\"../ResultMenu/ResultMenuContent\"));\n\nvar _SearchBar = _interopRequireDefault(require(\"../Search/SearchBar\"));\n\nvar _SearchProvider = _interopRequireWildcard(require(\"../Search/SearchProvider\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar SearchDialog = function SearchDialog() {\n  (0, _useExtendI18n.default)(_locales.locales);\n  var navigate = (0, _reactRouterDom.useNavigate)();\n\n  var _useSearchParams = (0, _reactRouterDom.useSearchParams)(),\n      _useSearchParams2 = (0, _slicedToArray2.default)(_useSearchParams, 1),\n      searchParams = _useSearchParams2[0];\n\n  var _useSearch = (0, _SearchProvider.useSearch)(),\n      searchValue = _useSearch.searchValue;\n\n  var onClose = function onClose() {\n    try {\n      var returnPath = searchParams.get('returnPath');\n\n      if (returnPath) {\n        navigate(returnPath);\n      } else {\n        navigate('..');\n      }\n    } catch (_unused) {\n      navigate('..');\n    }\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_CozyDialogs.FixedDialog, {\n    open: true,\n    fullScreen: true,\n    size: \"full\",\n    disableGutters: true,\n    componentsProps: {\n      // don't touch padding-top in dialogTitle, there is a flagship override. Play with margin instead.\n      dialogTitle: {\n        className: 'u-ph-half u-pb-0 u-mt-2-half u-ov-visible'\n      },\n      divider: {\n        className: 'u-dn'\n      }\n    },\n    title: /*#__PURE__*/_react.default.createElement(_SearchBar.default, null),\n    content: searchValue && /*#__PURE__*/_react.default.createElement(_ResultMenuContent.default, null),\n    onClose: onClose\n  });\n};\n\nvar SearchDialogWithProviders = function SearchDialogWithProviders() {\n  return /*#__PURE__*/_react.default.createElement(_CozyTheme.default, {\n    variant: \"normal\"\n  }, /*#__PURE__*/_react.default.createElement(_AssistantProvider.default, null, /*#__PURE__*/_react.default.createElement(_SearchProvider.default, null, /*#__PURE__*/_react.default.createElement(SearchDialog, null))));\n};\n\nvar _default = SearchDialogWithProviders;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitizeChatContent = exports.pushMessagesIdInState = exports.makeConversationId = exports.isMessageForThisConversation = exports.isAssistantEnabled = exports.getInstantMessage = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _cozyFlags = _interopRequireDefault(require(\"cozy-flags\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar getInstantMessage = function getInstantMessage(assistantState) {\n  return Object.keys(assistantState.message).sort(function (a, b) {\n    return a - b;\n  }).map(function (key) {\n    return assistantState.message[key];\n  }).join('');\n};\n\nexports.getInstantMessage = getInstantMessage;\n\nvar makeConversationId = function makeConversationId() {\n  return \"\".concat(Date.now(), \"-\").concat(Math.floor(Math.random() * 90000) + 10000);\n};\n\nexports.makeConversationId = makeConversationId;\n\nvar pushMessagesIdInState = function pushMessagesIdInState(id, res, setState) {\n  if (id !== res._id) return;\n  var messagesId = res.messages.map(function (message) {\n    return message.id;\n  });\n  setState(function (v) {\n    return _objectSpread(_objectSpread({}, v), {}, {\n      messagesId: messagesId\n    });\n  });\n};\n\nexports.pushMessagesIdInState = pushMessagesIdInState;\n\nvar isMessageForThisConversation = function isMessageForThisConversation(res, messagesId) {\n  return messagesId.includes(res._id);\n};\n\nexports.isMessageForThisConversation = isMessageForThisConversation;\n\nvar isAssistantEnabled = function isAssistantEnabled() {\n  return (0, _cozyFlags.default)('cozy.assistant.enabled');\n};\n/**\n * Sanitize chat content by removing special sources tags like\n * [REF]...[/REF] or [doc_X] that are not currently handled.\n *\n * @param {string} content - content to sanitize\n * @returns {string} sanitized content\n */\n\n\nexports.isAssistantEnabled = isAssistantEnabled;\n\nvar sanitizeChatContent = function sanitizeChatContent(content) {\n  if (!content) {\n    return '';\n  }\n\n  return content // Remove REFdoc_1/REF\n  .replace(/\\s?\\[REF\\][\\s\\S]*?\\[\\/REF\\]/g, '') // Remove [REF]doc_1[/REF]\n  .replace(/\\s?REF[\\s\\S]*?\\/REF/g, '') // remove « [doc_1] »\n  .replace(/\\s?\\[doc_\\d+\\]/g, '');\n};\n\nexports.sanitizeChatContent = sanitizeChatContent;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildRecentConversationsQuery = exports.buildMyselfQuery = exports.buildFilesByIds = exports.buildChatConversationQueryById = exports.FILES_DOCTYPE = exports.CHAT_EVENTS_DOCTYPE = exports.CHAT_CONVERSATIONS_DOCTYPE = void 0;\n\nvar _cozyClient = require(\"cozy-client\");\n\nvar CONTACTS_DOCTYPE = 'io.cozy.contacts';\nvar CHAT_CONVERSATIONS_DOCTYPE = 'io.cozy.ai.chat.conversations';\nexports.CHAT_CONVERSATIONS_DOCTYPE = CHAT_CONVERSATIONS_DOCTYPE;\nvar CHAT_EVENTS_DOCTYPE = 'io.cozy.ai.chat.events';\nexports.CHAT_EVENTS_DOCTYPE = CHAT_EVENTS_DOCTYPE;\nvar FILES_DOCTYPE = 'io.cozy.files';\nexports.FILES_DOCTYPE = FILES_DOCTYPE;\n\nvar defaultFetchPolicy = _cozyClient.fetchPolicies.olderThan(86400); // 24 hours\n\n\nvar buildFilesByIds = function buildFilesByIds(ids) {\n  return {\n    definition: (0, _cozyClient.Q)(FILES_DOCTYPE).getByIds(ids),\n    options: {\n      as: \"\".concat(FILES_DOCTYPE, \"/\").concat(ids.join('')),\n      fetchPolicy: defaultFetchPolicy\n    }\n  };\n};\n\nexports.buildFilesByIds = buildFilesByIds;\n\nvar buildChatConversationQueryById = function buildChatConversationQueryById(id) {\n  return {\n    definition: (0, _cozyClient.Q)(CHAT_CONVERSATIONS_DOCTYPE).getById(id),\n    options: {\n      as: \"\".concat(CHAT_CONVERSATIONS_DOCTYPE, \"/\").concat(id),\n      fetchPolicy: defaultFetchPolicy,\n      singleDocData: true\n    }\n  };\n};\n\nexports.buildChatConversationQueryById = buildChatConversationQueryById;\n\nvar buildMyselfQuery = function buildMyselfQuery() {\n  return {\n    definition: (0, _cozyClient.Q)(CONTACTS_DOCTYPE).where({\n      me: true\n    }),\n    options: {\n      as: \"\".concat(CONTACTS_DOCTYPE, \"/myself\"),\n      fetchPolicy: defaultFetchPolicy\n    }\n  };\n};\n\nexports.buildMyselfQuery = buildMyselfQuery;\n\nvar buildRecentConversationsQuery = function buildRecentConversationsQuery() {\n  return {\n    definition: function definition() {\n      return (0, _cozyClient.Q)(CHAT_CONVERSATIONS_DOCTYPE).where({\n        // TODO : fix\n        'cozyMetadata.updatedAt': {\n          $gt: new Date(\"1999-01-01T00:00:00Z\")\n        }\n      }).indexFields(['cozyMetadata.updatedAt']).sortBy([{\n        'cozyMetadata.updatedAt': 'desc'\n      }]).limitBy(50);\n    },\n    options: {\n      as: CHAT_CONVERSATIONS_DOCTYPE + '/recent',\n      fetchPolicy: defaultFetchPolicy\n    }\n  };\n};\n\nexports.buildRecentConversationsQuery = buildRecentConversationsQuery;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"AssistantDesktop\", {\n  enumerable: true,\n  get: function get() {\n    return _AssistantDesktop.default;\n  }\n});\nObject.defineProperty(exports, \"AssistantDialog\", {\n  enumerable: true,\n  get: function get() {\n    return _AssistantDialog.default;\n  }\n});\nObject.defineProperty(exports, \"AssistantLink\", {\n  enumerable: true,\n  get: function get() {\n    return _AssistantLink.default;\n  }\n});\nObject.defineProperty(exports, \"AssistantMobile\", {\n  enumerable: true,\n  get: function get() {\n    return _AssistantMobile.default;\n  }\n});\nObject.defineProperty(exports, \"SearchDialog\", {\n  enumerable: true,\n  get: function get() {\n    return _SearchDialog.default;\n  }\n});\n\nvar _AssistantLink = _interopRequireDefault(require(\"./components/Search/AssistantLink\"));\n\nvar _AssistantDesktop = _interopRequireDefault(require(\"./components/AssistantDesktop\"));\n\nvar _AssistantMobile = _interopRequireDefault(require(\"./components/AssistantMobile\"));\n\nvar _AssistantDialog = _interopRequireDefault(require(\"./components/Views/AssistantDialog\"));\n\nvar _SearchDialog = _interopRequireDefault(require(\"./components/Views/SearchDialog\"));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.locales = void 0;\nvar en = {\n  assistant: {\n    search: {\n      placeholder: \"Any question?\",\n      send: \"Send\",\n      noItem: \"No results\",\n      notEnough: \"Your query must contain at least 3 characters\"\n    },\n    conversationBar: {\n      startMessage: \"What can I do for you?\",\n      newChat: \"New chat\",\n      more: {\n        experts: \"more experts\",\n        knowledge_bases: \"more knowledge bases\"\n      }\n    },\n    conversationList: {\n      recentConversations: \"Recent conversations\"\n    },\n    experts: {\n      legal: \"Legal\",\n      financial: \"Financial\",\n      image_creation: \"Image creation\",\n      marketing: \"Marketing\",\n      code_assistant: \"Code assistant\",\n      brainstorming: \"Brainstorming\",\n      travel_planner: \"Travel planner\",\n      fitness_coach: \"Fitness coach\",\n      recipe_suggester: \"Recipe suggester\",\n      web_search: \"Web search\",\n      external_warning: {\n        title: \"External expert selected\",\n        description: \"Be careful with the selected knowledge bases\",\n        know_more: \"Know more\"\n      }\n    },\n    knowledge_bases: {\n      twake_knowledge: \"My Twake\",\n      web: \"Web\",\n      linagora_client: \"Linagora Client Base\",\n      security_procedures: \"Security\",\n      other: \"Other knowledge base\"\n    },\n    dialog: {\n      close: \"Close\"\n    },\n    name: \"Twake Assistant\",\n    default_username: \"Anonymous\",\n    sources: \"%{smart_count} source |||| %{smart_count} sources\",\n    suggestions: {\n      find_file: \"Search a file\",\n      reimbursements: \"Check my repayments\",\n      reorganise_files: \"Reorganise my files\"\n    }\n  }\n};\nvar fr = {\n  assistant: {\n    search: {\n      placeholder: \"Une question ?\",\n      send: \"Envoyer\",\n      noItem: \"Aucun r\\xE9sultat\",\n      notEnough: \"Votre recherche doit contenir au moins 3 caract\\xE8res\"\n    },\n    conversationBar: {\n      startMessage: \"Comment puis-je vous aider ?\",\n      newChat: \"Nouveau\",\n      more: {\n        experts: \"autres expertises\",\n        knowledge_bases: \"autres bases de connaissances\"\n      }\n    },\n    conversationList: {\n      recentConversations: \"Conversations r\\xE9centes\"\n    },\n    experts: {\n      legal: \"Juridique\",\n      financial: \"Financier\",\n      image_creation: \"Cr\\xE9ation d'images\",\n      marketing: \"Marketing\",\n      code_assistant: \"Assistant de code\",\n      brainstorming: \"Brainstorming\",\n      travel_planner: \"Planificateur de voyage\",\n      fitness_coach: \"Coach sportif\",\n      recipe_suggester: \"Suggestions de recettes\",\n      web_search: \"Recherche web\",\n      external_warning: {\n        title: \"Expert externe s\\xE9lectionn\\xE9\",\n        description: \"Attention aux bases de donn\\xE9es s\\xE9lectionn\\xE9es.\",\n        know_more: \"En savoir plus\"\n      }\n    },\n    knowledge_bases: {\n      twake_knowledge: \"My Twake\",\n      web: \"Web\",\n      linagora_client: \"Base clients Linagora\",\n      security_procedures: \"S\\xE9curit\\xE9\",\n      other: \"Autre base de connaissances\"\n    },\n    dialog: {\n      close: \"Fermer\"\n    },\n    name: \"Assistant Twake\",\n    default_username: \"Anonyme\",\n    sources: \"%{smart_count} source |||| %{smart_count} sources\",\n    suggestions: {\n      find_file: \"Rechercher un fichier\",\n      reimbursements: \"V\\xE9rifier mes remboursements\",\n      reorganise_files: \"R\\xE9organiser mes fichiers\"\n    }\n  }\n};\nvar ru = {\n  assistant: {\n    search: {\n      placeholder: \"\\u0415\\u0441\\u0442\\u044C \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441?\",\n      send: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\",\n      noItem: \"\\u041D\\u0435\\u0442 \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u043E\\u0432\",\n      notEnough: \"\\u0412\\u0430\\u0448 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441 \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u043D\\u0435 \\u043C\\u0435\\u043D\\u0435\\u0435 3 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\"\n    },\n    dialog: {\n      close: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n    },\n    name: \"\\u0410\\u0441\\u0441\\u0438\\u0441\\u0442\\u0435\\u043D\\u0442 Twake\",\n    default_username: \"\\u0410\\u043D\\u043E\\u043D\\u0438\\u043C\\u043D\\u043E\",\n    sources: \"%{smart_count} \\u0438\\u0441\\u0442\\u043E\\u0447\\u043D\\u0438\\u043A |||| %{smart_count} \\u0438\\u0441\\u0442\\u043E\\u0447\\u043D\\u0438\\u043A\\u0430 |||| %{smart_count} \\u0438\\u0441\\u0442\\u043E\\u0447\\u043D\\u0438\\u043A\\u043E\\u0432\",\n    suggestions: {\n      find_file: \"\\u041D\\u0430\\u0439\\u0442\\u0438 \\u0444\\u0430\\u0439\\u043B\",\n      reimbursements: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u0438\\u0442\\u044C \\u0432\\u043E\\u0437\\u043C\\u0435\\u0449\\u0435\\u043D\\u0438\\u044F \\u0440\\u0430\\u0441\\u0445\\u043E\\u0434\\u043E\\u0432\",\n      reorganise_files: \"\\u0420\\u0435\\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u043C\\u043E\\u0438 \\u0444\\u0430\\u0439\\u043B\\u044B\"\n    }\n  }\n};\nvar vi = {\n  assistant: {\n    search: {\n      placeholder: \"C\\xF3 c\\xE2u h\\u1ECFi n\\xE0o kh\\xF4ng?\",\n      send: \"G\\u1EEDi\",\n      noItem: \"Kh\\xF4ng c\\xF3 k\\u1EBFt qu\\u1EA3\",\n      notEnough: \"Truy v\\u1EA5n c\\u1EE7a b\\u1EA1n ph\\u1EA3i ch\\u1EE9a \\xEDt nh\\u1EA5t 3 k\\xFD t\\u1EF1\"\n    },\n    dialog: {\n      close: \"\\u0110\\xF3ng\"\n    },\n    name: \"Tr\\u1EE3 l\\xFD Twake\",\n    default_username: \"\\u1EA8n danh\",\n    sources: \"%{smart_count} ngu\\u1ED3n |||| %{smart_count} ngu\\u1ED3n\",\n    suggestions: {\n      find_file: \"T\\xECm m\\u1ED9t t\\u1EC7p\",\n      reimbursements: \"Ki\\u1EC3m tra c\\xE1c kho\\u1EA3n ho\\xE0n tr\\u1EA3 c\\u1EE7a t\\xF4i\",\n      reorganise_files: \"S\\u1EAFp x\\u1EBFp l\\u1EA1i c\\xE1c t\\u1EC7p c\\u1EE7a t\\xF4i\"\n    }\n  }\n};\nvar locales = {\n  en: en,\n  fr: fr,\n  ru: ru,\n  vi: vi\n};\nexports.locales = locales;"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}