{"version":3,"file":"cozy.d7ea2d475888fdca.hot-update.js","sources":["/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/helpers.js"],"sourcesContent":["import flag from 'cozy-flags';\nexport const getInstantMessage = assistantState => Object.keys(assistantState.message)\n    .sort((a, b) => a - b)\n    .map(key => assistantState.message[key])\n    .join('');\nexport const makeConversationId = () => `${Date.now()}-${Math.floor(Math.random() * 90000) + 10000}`;\nexport const pushMessagesIdInState = (id, res, setState) => {\n    if (id !== res._id)\n        return;\n    const messagesId = res.messages.map(message => message.id);\n    setState(v => (Object.assign(Object.assign({}, v), { messagesId })));\n};\nexport const isMessageForThisConversation = (res, messagesId) => messagesId.includes(res._id);\nexport const isAssistantEnabled = () => flag('cozy.assistant.enabled');\n/**\n * Sanitize chat content by removing special sources tags like\n * [REF]...[/REF] or [doc_X] that are not currently handled.\n *\n * @param {string} content - content to sanitize\n * @returns {string} sanitized content\n */\nexport const sanitizeChatContent = content => {\n    if (!content) {\n        return '';\n    }\n    return (content\n        // Remove REFdoc_1/REF\n        .replace(/\\s?\\[REF\\][\\s\\S]*?\\[\\/REF\\]/g, '')\n        // Remove [REF]doc_1[/REF]\n        .replace(/\\s?REF[\\s\\S]*?\\/REF/g, '')\n        // remove « [doc_1] »\n        .replace(/\\s?\\[doc_\\d+\\]/g, ''));\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}