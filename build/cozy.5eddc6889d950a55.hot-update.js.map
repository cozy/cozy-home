{"version":3,"file":"cozy.5eddc6889d950a55.hot-update.js","sources":["/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/stylesheet.css","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/AssistantIcon/TwakeAssistantIconColor.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/AssistantMobile.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/AssistantProvider.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/ChatAssistantItem.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/ChatConversation.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/ChatItem.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/ChatItemLabel.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/ChatRealtimeAnswer.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/ChatUserItem.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/Conversation.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/ConversationBar.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/ConversationChips.js"],"sourcesContent":["// extracted by css-extract-rspack-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1761294542502\n        var cssReload = require(\"../../@rspack/core/dist/cssExtractHmr.js\").cssReload(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TwakeAssistantIconColor = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar TwakeAssistantIconColor = function TwakeAssistantIconColor(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", (0, _extends2.default)({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#4A1616\",\n    d: \"M7.452 11.623a1.5 1.5 0 0 0-1.078-1.077L1.773 9.359a.375.375 0 0 1 0-.722l4.6-1.187a1.5 1.5 0 0 0 1.079-1.077l1.186-4.601a.375.375 0 0 1 .722 0l1.186 4.601a1.5 1.5 0 0 0 1.078 1.078l4.601 1.186a.375.375 0 0 1 0 .723l-4.601 1.186a1.5 1.5 0 0 0-1.078 1.077L9.36 16.225a.375.375 0 0 1-.723 0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"url(#a)\",\n    d: \"M7.452 11.623a1.5 1.5 0 0 0-1.078-1.077L1.773 9.359a.375.375 0 0 1 0-.722l4.6-1.187a1.5 1.5 0 0 0 1.079-1.077l1.186-4.601a.375.375 0 0 1 .722 0l1.186 4.601a1.5 1.5 0 0 0 1.078 1.078l4.601 1.186a.375.375 0 0 1 0 .723l-4.601 1.186a1.5 1.5 0 0 0-1.078 1.077L9.36 16.225a.375.375 0 0 1-.723 0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"url(#b)\",\n    d: \"M7.452 11.623a1.5 1.5 0 0 0-1.078-1.077L1.773 9.359a.375.375 0 0 1 0-.722l4.6-1.187a1.5 1.5 0 0 0 1.079-1.077l1.186-4.601a.375.375 0 0 1 .722 0l1.186 4.601a1.5 1.5 0 0 0 1.078 1.078l4.601 1.186a.375.375 0 0 1 0 .723l-4.601 1.186a1.5 1.5 0 0 0-1.078 1.077L9.36 16.225a.375.375 0 0 1-.723 0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#4A1616\",\n    d: \"M14.998 1.682c.316 0 .571.256.571.572v.928h.929a.572.572 0 0 1 0 1.143h-.929v.929a.572.572 0 0 1-1.143 0v-.929h-.928a.572.572 0 0 1 0-1.143h.928v-.928c0-.316.256-.572.572-.572\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"url(#c)\",\n    d: \"M14.998 1.682c.316 0 .571.256.571.572v.928h.929a.572.572 0 0 1 0 1.143h-.929v.929a.572.572 0 0 1-1.143 0v-.929h-.928a.572.572 0 0 1 0-1.143h.928v-.928c0-.316.256-.572.572-.572\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"url(#d)\",\n    d: \"M14.998 1.682c.316 0 .571.256.571.572v.928h.929a.572.572 0 0 1 0 1.143h-.929v.929a.572.572 0 0 1-1.143 0v-.929h-.928a.572.572 0 0 1 0-1.143h.928v-.928c0-.316.256-.572.572-.572\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#4A1616\",\n    d: \"M2.998 12.178c.315 0 .571.256.571.572v.178h.18a.572.572 0 0 1-.001 1.143H3.57v.179a.572.572 0 0 1-1.143 0v-.179h-.178a.572.572 0 0 1 0-1.143h.178v-.178c0-.316.256-.572.572-.572\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"url(#e)\",\n    d: \"M2.998 12.178c.315 0 .571.256.571.572v.178h.18a.572.572 0 0 1-.001 1.143H3.57v.179a.572.572 0 0 1-1.143 0v-.179h-.178a.572.572 0 0 1 0-1.143h.178v-.178c0-.316.256-.572.572-.572\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"url(#f)\",\n    d: \"M2.998 12.178c.315 0 .571.256.571.572v.178h.18a.572.572 0 0 1-.001 1.143H3.57v.179a.572.572 0 0 1-1.143 0v-.179h-.178a.572.572 0 0 1 0-1.143h.178v-.178c0-.316.256-.572.572-.572\"\n  }), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"a\",\n    x1: 16.5,\n    x2: 1.5,\n    y1: 10.248,\n    y2: 10.248,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.13,\n    stopColor: \"#A033FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.61,\n    stopColor: \"#0094FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#4FB500\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"b\",\n    x1: 8.375,\n    x2: 3.687,\n    y1: 6.186,\n    y2: 15.56,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#FFD600\",\n    stopOpacity: 0\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.563,\n    stopColor: \"#FFC700\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"c\",\n    x1: 17.069,\n    x2: 12.926,\n    y1: 3.849,\n    y2: 3.849,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.13,\n    stopColor: \"#A033FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.61,\n    stopColor: \"#0094FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#4FB500\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"d\",\n    x1: 14.825,\n    x2: 14.704,\n    y1: 3.539,\n    y2: 4.416,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#FFD600\",\n    stopOpacity: 0\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.563,\n    stopColor: \"#FFC700\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"e\",\n    x1: 4.319,\n    x2: 1.676,\n    y1: 13.595,\n    y2: 13.595,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.13,\n    stopColor: \"#A033FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.61,\n    stopColor: \"#0094FF\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#4FB500\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"f\",\n    x1: 2.887,\n    x2: 2.703,\n    y1: 13.285,\n    y2: 14.139,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#FFD600\",\n    stopOpacity: 0\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.563,\n    stopColor: \"#FFC700\"\n  }))));\n};\n\nexports.TwakeAssistantIconColor = TwakeAssistantIconColor;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.AssistantMobile = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _Magnifier = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/Magnifier\"));\n\nvar _SearchBar = _interopRequireDefault(require(\"cozy-ui/transpiled/react/SearchBar\"));\n\nvar _useExtendI18n = _interopRequireDefault(require(\"cozy-ui/transpiled/react/providers/I18n/useExtendI18n\"));\n\nvar _locales = require(\"../locales\");\n\nvar styles = {\n  \"searchBarDesktop--result\": \"styles__searchBarDesktop--result___2bQQy\",\n  \"suggestionsPlaceholder\": \"styles__suggestionsPlaceholder___y-vsv\",\n  \"search-bar-icon\": \"styles__search-bar-icon___1affF\"\n};\n\nvar AssistantMobile = function AssistantMobile(_ref) {\n  var componentsProps = _ref.componentsProps;\n  var navigate = (0, _reactRouterDom.useNavigate)();\n\n  var _useLocation = (0, _reactRouterDom.useLocation)(),\n      pathname = _useLocation.pathname;\n\n  (0, _useExtendI18n.default)(_locales.locales);\n  return /*#__PURE__*/_react.default.createElement(_SearchBar.default, (0, _extends2.default)({}, componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.SearchBar, {\n    size: \"medium\",\n    icon: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n      className: (0, _classnames.default)('u-ml-1 u-mr-half', styles['search-bar-icon']),\n      icon: _Magnifier.default,\n      size: 16\n    }),\n    type: \"button\",\n    onClick: function onClick() {\n      return navigate(\"connected/search?returnPath=\".concat(pathname));\n    } // FIXME this route is related to home app\n\n  }));\n};\n\nexports.AssistantMobile = AssistantMobile;\nAssistantMobile.propTypes = {\n  componentsProps: _propTypes.default.shape({\n    SearchBar: _propTypes.default.shape({\n      className: _propTypes.default.string\n    })\n  })\n};\nvar _default = AssistantMobile;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAssistant = exports.default = exports.AssistantContext = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _set = _interopRequireDefault(require(\"lodash/set\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _cozyClient = require(\"cozy-client\");\n\nvar _useRealtime3 = _interopRequireDefault(require(\"cozy-realtime/dist/useRealtime\"));\n\nvar _helpers = require(\"./helpers\");\n\nvar _queries = require(\"./queries\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar AssistantContext = /*#__PURE__*/_react.default.createContext();\n\nexports.AssistantContext = AssistantContext;\n\nvar useAssistant = function useAssistant() {\n  var context = (0, _react.useContext)(AssistantContext);\n\n  if (!context) {\n    throw new Error('useAssistant must be used within a AssistantProvider');\n  }\n\n  return context;\n};\n\nexports.useAssistant = useAssistant;\n\nvar AssistantProvider = function AssistantProvider(_ref) {\n  var children = _ref.children;\n\n  var _useParams = (0, _reactRouterDom.useParams)(),\n      conversationId = _useParams.conversationId;\n\n  var client = (0, _cozyClient.useClient)();\n\n  var _useState = (0, _react.useState)({\n    message: {},\n    status: 'idle',\n    messagesId: []\n  }),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      assistantState = _useState2[0],\n      setAssistantState = _useState2[1];\n\n  (0, _useRealtime3.default)(client, (0, _defineProperty2.default)({}, _queries.CHAT_CONVERSATIONS_DOCTYPE, {\n    created: function created(res) {\n      (0, _helpers.pushMessagesIdInState)(conversationId, res, setAssistantState);\n    },\n    updated: function updated(res) {\n      (0, _helpers.pushMessagesIdInState)(conversationId, res, setAssistantState);\n    }\n  }), []);\n  (0, _useRealtime3.default)(client, (0, _defineProperty2.default)({}, _queries.CHAT_EVENTS_DOCTYPE, {\n    created: function created(res) {\n      setAssistantState(function (prevState) {\n        // to exclude realtime messages if not relevant to the actual conversation\n        if (!(0, _helpers.isMessageForThisConversation)(res, prevState.messagesId)) {\n          return prevState;\n        }\n\n        if (res.object === 'done') {\n          if (prevState.status !== 'idle') {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              status: 'idle'\n            });\n          }\n        }\n\n        if (res.object === 'delta') {\n          var message = (0, _set.default)(prevState.message, res.position, res.content);\n          return _objectSpread(_objectSpread({}, prevState), {}, {\n            message: message,\n            status: 'writing'\n          });\n        }\n\n        return prevState;\n      });\n    }\n  }), []);\n  var clearAssistant = (0, _react.useCallback)(function () {\n    return setAssistantState({\n      message: {},\n      status: 'pending',\n      messagesId: []\n    });\n  }, []);\n  var onAssistantExecute = (0, _react.useCallback)( /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_ref2, callback) {\n      var value, conversationId;\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              value = _ref2.value, conversationId = _ref2.conversationId;\n\n              if (value) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              callback === null || callback === void 0 ? void 0 : callback();\n              clearAssistant();\n              _context.next = 7;\n              return client.stackClient.fetchJSON('POST', \"/ai/chat/conversations/\".concat(conversationId), {\n                q: value\n              });\n\n            case 7:\n              setAssistantState(function (v) {\n                return _objectSpread(_objectSpread({}, v), {}, {\n                  status: 'pending'\n                });\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [client, clearAssistant]);\n  var value = (0, _react.useMemo)(function () {\n    return {\n      assistantState: assistantState,\n      setAssistantState: setAssistantState,\n      clearAssistant: clearAssistant,\n      onAssistantExecute: onAssistantExecute\n    };\n  }, [assistantState, clearAssistant, onAssistantExecute]);\n  return /*#__PURE__*/_react.default.createElement(AssistantContext.Provider, {\n    value: value\n  }, children);\n};\n\nvar _default = /*#__PURE__*/_react.default.memo(AssistantProvider);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _I18n = require(\"cozy-ui/transpiled/react/providers/I18n\");\n\nvar _ChatItem = _interopRequireDefault(require(\"./ChatItem\"));\n\nvar _Sources = _interopRequireDefault(require(\"./Sources/Sources\"));\n\nvar _TwakeAssistantIcon = require(\"../AssistantIcon/TwakeAssistantIcon\");\n\nvar _excluded = [\"label\", \"className\", \"id\", \"sources\"];\n\nvar ChatAssistantItem = function ChatAssistantItem(_ref) {\n  var label = _ref.label,\n      className = _ref.className,\n      id = _ref.id,\n      sources = _ref.sources,\n      props = (0, _objectWithoutProperties2.default)(_ref, _excluded);\n\n  var _useI18n = (0, _I18n.useI18n)(),\n      t = _useI18n.t;\n\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_ChatItem.default, (0, _extends2.default)({}, props, {\n    label: label,\n    className: className,\n    icon: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n      icon: _TwakeAssistantIcon.TwakeAssistantIcon,\n      size: 24,\n      className: \"u-mh-half\",\n      color: \"var(--primaryColor)\"\n    }),\n    name: t('assistant.name')\n  })), (sources === null || sources === void 0 ? void 0 : sources.length) > 0 && /*#__PURE__*/_react.default.createElement(_Sources.default, {\n    messageId: id,\n    sources: sources\n  }));\n};\n\nvar _default = ChatAssistantItem;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _cozyClient = require(\"cozy-client\");\n\nvar _ChatAssistantItem = _interopRequireDefault(require(\"./ChatAssistantItem\"));\n\nvar _ChatRealtimeAnswer = _interopRequireDefault(require(\"./ChatRealtimeAnswer\"));\n\nvar _ChatUserItem = _interopRequireDefault(require(\"./ChatUserItem\"));\n\nvar _AssistantProvider = require(\"../AssistantProvider\");\n\nvar _helpers = require(\"../helpers\");\n\nvar _queries = require(\"../queries\");\n\nvar _excluded = [\"data\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar ChatConversation = function ChatConversation(_ref) {\n  var _conversation$message, _conversation$message2, _conversation$message3, _conversation$message4, _conversation$message5;\n\n  var conversation = _ref.conversation,\n      myself = _ref.myself;\n\n  var _useAssistant = (0, _AssistantProvider.useAssistant)(),\n      assistantState = _useAssistant.assistantState;\n\n  var listRef = (0, _react.useRef)();\n  var instantMessageKeysCount = Object.keys(assistantState.message).length; // test on role === user to be sure the last response is inside io.cozy.ai.chat.conversations\n\n  var showRealtimeMessage = assistantState.status !== 'idle' || (conversation === null || conversation === void 0 ? void 0 : (_conversation$message = conversation.messages) === null || _conversation$message === void 0 ? void 0 : (_conversation$message2 = _conversation$message[(conversation === null || conversation === void 0 ? void 0 : (_conversation$message3 = conversation.messages) === null || _conversation$message3 === void 0 ? void 0 : _conversation$message3.length) - 1]) === null || _conversation$message2 === void 0 ? void 0 : _conversation$message2.role) === 'user';\n  (0, _react.useEffect)(function () {\n    var _listRef$current, _listRef$current$last;\n\n    // force scroll down if new message of change in AI instant response\n    (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : (_listRef$current$last = _listRef$current.lastElementChild) === null || _listRef$current$last === void 0 ? void 0 : _listRef$current$last.scrollIntoView(false);\n  }, [conversation === null || conversation === void 0 ? void 0 : (_conversation$message4 = conversation.messages) === null || _conversation$message4 === void 0 ? void 0 : _conversation$message4.length, assistantState.status, instantMessageKeysCount]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    ref: listRef\n  }, conversation === null || conversation === void 0 ? void 0 : (_conversation$message5 = conversation.messages) === null || _conversation$message5 === void 0 ? void 0 : _conversation$message5.map(function (message, idx) {\n    if (message.role === 'user') {\n      return /*#__PURE__*/_react.default.createElement(_ChatUserItem.default, {\n        key: conversation._id + '--' + idx,\n        className: \"u-mt-1-half\",\n        myself: myself,\n        label: message.content\n      });\n    }\n\n    if (idx !== (conversation === null || conversation === void 0 ? void 0 : conversation.messages.length) - 1) {\n      return /*#__PURE__*/_react.default.createElement(_ChatAssistantItem.default, {\n        key: conversation._id + '--' + idx,\n        className: \"u-mt-1-half\",\n        id: message.id,\n        label: message.content,\n        sources: message.sources\n      });\n    }\n\n    if (showRealtimeMessage) {\n      return null;\n    }\n\n    return /*#__PURE__*/_react.default.createElement(_ChatAssistantItem.default, {\n      key: conversation._id + '--' + idx,\n      className: \"u-mt-1-half\",\n      id: message.id,\n      label: message.content,\n      sources: message.sources\n    });\n  }), showRealtimeMessage && /*#__PURE__*/_react.default.createElement(_ChatRealtimeAnswer.default, {\n    isLoading: assistantState.status === 'pending',\n    label: (0, _helpers.getInstantMessage)(assistantState)\n  }));\n};\n\nvar ChatConversationWithQuery = function ChatConversationWithQuery(_ref2) {\n  var id = _ref2.id,\n      myself = _ref2.myself;\n  var chatConversationQuery = (0, _queries.buildChatConversationQueryById)(id);\n\n  var _useQuery = (0, _cozyClient.useQuery)(chatConversationQuery.definition, chatConversationQuery.options),\n      chatConversation = _useQuery.data,\n      queryResult = (0, _objectWithoutProperties2.default)(_useQuery, _excluded);\n\n  var isLoading = (0, _cozyClient.isQueryLoading)(queryResult);\n  if (isLoading) return null;\n  return /*#__PURE__*/_react.default.createElement(ChatConversation, {\n    conversation: chatConversation,\n    myself: myself\n  });\n};\n\nvar _default = ChatConversationWithQuery;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Box = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Box\"));\n\nvar _Typography = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Typography\"));\n\nvar _ChatItemLabel = _interopRequireDefault(require(\"./ChatItemLabel\"));\n\nvar ChatItem = function ChatItem(_ref) {\n  var className = _ref.className,\n      icon = _ref.icon,\n      name = _ref.name,\n      label = _ref.label;\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_Box.default, {\n    className: className,\n    display: \"flex\",\n    alignItems: \"center\",\n    gridGap: 12\n  }, icon, /*#__PURE__*/_react.default.createElement(_Typography.default, {\n    variant: \"h6\",\n    display: \"inline\"\n  }, name)), /*#__PURE__*/_react.default.createElement(_Box.default, {\n    pl: \"44px\"\n  }, /*#__PURE__*/_react.default.createElement(_ChatItemLabel.default, {\n    label: label\n  })));\n};\n\nvar _default = ChatItem;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Markdown = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Markdown\"));\n\nvar _helpers = require(\"../helpers\");\n\nvar ChatItemLabel = function ChatItemLabel(_ref) {\n  var label = _ref.label;\n\n  if (typeof label === 'string') {\n    var content = (0, _helpers.sanitizeChatContent)(label);\n    return /*#__PURE__*/_react.default.createElement(_Markdown.default, {\n      content: content\n    });\n  }\n\n  return label;\n}; // need memo to avoid rendering all label of all items\n\n\nvar _default = /*#__PURE__*/_react.default.memo(ChatItemLabel);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Skeleton = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Skeleton\"));\n\nvar _ChatAssistantItem = _interopRequireDefault(require(\"./ChatAssistantItem\"));\n\nvar ChatRealtimeAnswer = function ChatRealtimeAnswer(_ref) {\n  var isLoading = _ref.isLoading,\n      label = _ref.label;\n  return /*#__PURE__*/_react.default.createElement(_ChatAssistantItem.default, {\n    className: \"u-mt-1-half\",\n    label: isLoading ? /*#__PURE__*/_react.default.createElement(\"span\", null, /*#__PURE__*/_react.default.createElement(_Skeleton.default, {\n      width: \"100%\"\n    }), /*#__PURE__*/_react.default.createElement(_Skeleton.default, {\n      width: \"60%\"\n    })) : label\n  });\n};\n\nvar _default = ChatRealtimeAnswer;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _contact = require(\"cozy-client/dist/models/contact\");\n\nvar _Avatar = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Avatar\"));\n\nvar _I18n = require(\"cozy-ui/transpiled/react/providers/I18n\");\n\nvar _ChatItem = _interopRequireDefault(require(\"./ChatItem\"));\n\nvar _excluded = [\"className\", \"label\", \"myself\"];\n\nvar ChatUserItem = function ChatUserItem(_ref) {\n  var className = _ref.className,\n      label = _ref.label,\n      myself = _ref.myself,\n      props = (0, _objectWithoutProperties2.default)(_ref, _excluded);\n\n  var _useI18n = (0, _I18n.useI18n)(),\n      t = _useI18n.t;\n\n  var contact = myself || {\n    displayName: t('assistant.default_username')\n  };\n  return /*#__PURE__*/_react.default.createElement(_ChatItem.default, (0, _extends2.default)({}, props, {\n    className: className,\n    icon: /*#__PURE__*/_react.default.createElement(_Avatar.default, {\n      text: (0, _contact.getInitials)(contact),\n      size: 24\n    }),\n    name: (0, _contact.getDisplayName)(contact),\n    label: label\n  }));\n};\n\nvar _default = ChatUserItem;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _cozyClient = require(\"cozy-client\");\n\nvar _ChatConversation = _interopRequireDefault(require(\"./ChatConversation\"));\n\nvar _queries = require(\"../queries\");\n\nvar _excluded = [\"data\"];\n\nvar Conversation = function Conversation(_ref) {\n  var id = _ref.id;\n  var myselfQuery = (0, _queries.buildMyselfQuery)();\n\n  var _useQuery = (0, _cozyClient.useQuery)(myselfQuery.definition, myselfQuery.options),\n      myselves = _useQuery.data,\n      queryMyselfResult = (0, _objectWithoutProperties2.default)(_useQuery, _excluded);\n\n  var isLoading = (0, _cozyClient.isQueryLoading)(queryMyselfResult);\n  if (isLoading) return null;\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"u-maw-7 u-mh-auto\"\n  }, /*#__PURE__*/_react.default.createElement(_ChatConversation.default, {\n    id: id,\n    myself: myselves[0]\n  }));\n};\n\nvar _default = Conversation;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _Buttons = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Buttons\"));\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _Paperplane = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/Paperplane\"));\n\nvar _Stop = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/Stop\"));\n\nvar _SearchBar = _interopRequireDefault(require(\"cozy-ui/transpiled/react/SearchBar\"));\n\nvar _Chips = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Chips\"));\n\nvar _useEventListener = _interopRequireDefault(require(\"cozy-ui/transpiled/react/hooks/useEventListener\"));\n\nvar _Breakpoints = require(\"cozy-ui/transpiled/react/providers/Breakpoints\");\n\nvar _I18n = require(\"cozy-ui/transpiled/react/providers/I18n\");\n\nvar _AssistantProvider = require(\"../AssistantProvider\");\n\nvar _Typography = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Typography\"));\n\nvar _TwakeAssistantIcon = require(\"../AssistantIcon/TwakeAssistantIcon\");\n\nvar _TwakeAssistantIconColor = require(\"../AssistantIcon/TwakeAssistantIconColor\");\n\nvar _ExpertIcon = require(\"../AssistantIcon/ExpertIcon\");\n\nvar _KnowledgeBaseIcon = require(\"../AssistantIcon/KnowledgeBaseIcon\");\n\nvar _ConversationChips = _interopRequireDefault(require(\"./ConversationChips\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar styles = {\n  \"conversationBar\": \"styles__conversationBar___2J-Us\",\n  \"conversationBar-input\": \"styles__conversationBar-input___2DfdZ\",\n  \"conversationBarSibling\": \"styles__conversationBarSibling___1KTPm\",\n  \"conversationBarSibling--started\": \"styles__conversationBarSibling--started___1T7gW\"\n};\n\nvar ConversationBar = function ConversationBar(_ref) {\n  var assistantStatus = _ref.assistantStatus,\n      hasConversationStarted = _ref.hasConversationStarted;\n\n  var _useI18n = (0, _I18n.useI18n)(),\n      t = _useI18n.t;\n\n  var _useBreakpoints = (0, _Breakpoints.useBreakpoints)(),\n      isMobile = _useBreakpoints.isMobile;\n\n  var _useAssistant = (0, _AssistantProvider.useAssistant)(),\n      onAssistantExecute = _useAssistant.onAssistantExecute;\n\n  var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      inputValue = _useState2[0],\n      setInputValue = _useState2[1];\n\n  var inputRef = (0, _react.useRef)();\n\n  var _useParams = (0, _reactRouterDom.useParams)(),\n      conversationId = _useParams.conversationId; // to adjust input height for multiline when typing in it\n\n\n  (0, _useEventListener.default)(inputRef.current, 'input', function () {\n    inputRef.current.style.height = 'auto'; // to resize input when emptying it\n\n    inputRef.current.style.height = \"\".concat(inputRef.current.scrollHeight, \"px\");\n  });\n\n  var handleClear = function handleClear() {\n    setInputValue('');\n  };\n\n  var handleChange = function handleChange(ev) {\n    setInputValue(ev.target.value);\n  };\n\n  var handleStop = function handleStop() {\n    // not supported right now\n    return;\n  };\n\n  var handleClick = function handleClick() {\n    return onAssistantExecute({\n      value: inputValue,\n      conversationId: conversationId\n    }, function () {\n      handleClear();\n      inputRef.current.style.height = 'auto';\n    });\n  };\n\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"u-w-100 u-maw-7 u-mh-auto\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(styles['conversationBarSibling'], \" \").concat(hasConversationStarted ? styles['conversationBarSibling--started'] : '', \" u-flex u-flex-column u-flex-items-center u-flex-justify-end\")\n  }, /*#__PURE__*/_react.default.createElement(_Typography.default, {\n    variant: \"h3\",\n    align: \"center\",\n    className: \"u-mb-2\"\n  }, t('assistant.conversationBar.startMessage'))), /*#__PURE__*/_react.default.createElement(_SearchBar.default, {\n    className: styles['conversationBar'],\n    icon: null,\n    size: \"auto\",\n    placeholder: t('assistant.search.placeholder'),\n    value: inputValue,\n    disabledClear: true,\n    componentsProps: {\n      inputBase: {\n        inputRef: inputRef,\n        className: 'u-pv-0',\n        rows: 1,\n        multiline: true,\n        inputProps: {\n          className: styles['conversationBar-input']\n        },\n        autoFocus: !isMobile,\n        startAdornment: /*#__PURE__*/_react.default.createElement(_Buttons.default, {\n          classes: {\n            label: 'u-w-2 u-h-2'\n          },\n          label: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n            icon: \"plus\",\n            size: 14\n          }),\n          variant: \"text\",\n          color: \"inherit\",\n          style: {\n            marginRight: 2,\n            marginLeft: -12\n          }\n        }),\n        endAdornment: /*#__PURE__*/_react.default.createElement(\"div\", {\n          style: {\n            marginRight: -8,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: 4,\n            flex: \"none\"\n          }\n        }, assistantStatus !== 'idle' ? /*#__PURE__*/_react.default.createElement(_Buttons.default, {\n          component: \"div\",\n          className: \"u-miw-auto u-mih-auto u-w-2 u-h-2 u-bdrs-circle u-p-1 u-mr-1\",\n          classes: {\n            label: 'u-flex u-w-auto'\n          },\n          label: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n            icon: _Stop.default,\n            size: 12\n          }),\n          onClick: handleStop\n        }) : /*#__PURE__*/_react.default.createElement(_Buttons.default, {\n          component: \"div\",\n          className: \"u-miw-auto u-mih-auto u-w-2 u-h-2 u-bdrs-circle u-p-1 u-mr-1\",\n          classes: {\n            label: 'u-flex u-w-auto'\n          },\n          label: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n            icon: _Paperplane.default,\n            size: 14\n          }),\n          disabled: !inputValue,\n          onClick: handleClick\n        })),\n        onKeyDown: function onKeyDown(ev) {\n          if (!isMobile) {\n            if (ev.shiftKey && ev.key === 'Enter') {\n              return ev;\n            }\n\n            if (ev.key === 'Enter') {\n              ev.preventDefault(); // prevent form submit\n\n              return handleClick();\n            }\n          }\n        }\n      }\n    },\n    onChange: handleChange\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(styles['conversationBarSibling'], \" \").concat(hasConversationStarted ? styles['conversationBarSibling--started'] : '', \" u-flex u-flex-column u-flex-items-center u-flex-justify-start\")\n  }, /*#__PURE__*/_react.default.createElement(_ConversationChips.default, null)));\n};\n\nvar _default = ConversationBar;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _Buttons = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Buttons\"));\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _Paperplane = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/Paperplane\"));\n\nvar _Stop = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/Stop\"));\n\nvar _SearchBar = _interopRequireDefault(require(\"cozy-ui/transpiled/react/SearchBar\"));\n\nvar _Chips = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Chips\"));\n\nvar _useEventListener = _interopRequireDefault(require(\"cozy-ui/transpiled/react/hooks/useEventListener\"));\n\nvar _Breakpoints = require(\"cozy-ui/transpiled/react/providers/Breakpoints\");\n\nvar _I18n = require(\"cozy-ui/transpiled/react/providers/I18n\");\n\nvar _AssistantProvider = require(\"../AssistantProvider\");\n\nvar _Typography = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Typography\"));\n\nvar _TwakeAssistantIcon = require(\"../AssistantIcon/TwakeAssistantIcon\");\n\nvar _TwakeAssistantIconColor = require(\"../AssistantIcon/TwakeAssistantIconColor\");\n\nvar _ExpertIcon = require(\"../AssistantIcon/ExpertIcon\");\n\nvar _KnowledgeBaseIcon = require(\"../AssistantIcon/KnowledgeBaseIcon\");\n\nvar _Alert = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Alert\"));\n\nvar _AlertTitle = _interopRequireDefault(require(\"cozy-ui/transpiled/react/AlertTitle\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar styles = {\n  \"conversationBar\": \"styles__conversationBar___2J-Us\",\n  \"conversationBar-input\": \"styles__conversationBar-input___2DfdZ\",\n  \"conversationBarSibling\": \"styles__conversationBarSibling___1KTPm\",\n  \"conversationBarSibling--started\": \"styles__conversationBarSibling--started___1T7gW\"\n};\n\nvar ChatModes = function ChatModes() {\n  var _useI18n = (0, _I18n.useI18n)(),\n      t = _useI18n.t;\n\n  var experts = [{\n    key: \"legal\",\n    label: t(\"assistant.experts.legal\"),\n    icon: 'justice',\n    external: true\n  }, {\n    key: 'financial',\n    label: t(\"assistant.experts.financial\"),\n    icon: 'benefit'\n  }, {\n    key: 'image_creation',\n    label: t(\"assistant.experts.image_creation\"),\n    icon: 'image',\n    external: true\n  }, {\n    key: 'marketing',\n    label: t(\"assistant.experts.marketing\"),\n    icon: 'lightning'\n  }, {\n    key: 'code_assistant',\n    label: t(\"assistant.experts.code_assistant\"),\n    icon: 'lightning'\n  }, {\n    key: 'brainstorming',\n    label: t(\"assistant.experts.brainstorming\"),\n    icon: 'lightbulb'\n  }, {\n    key: 'travel_planner',\n    label: t(\"assistant.experts.travel_planner\"),\n    icon: 'plane'\n  }, {\n    key: 'fitness_coach',\n    label: t(\"assistant.experts.fitness_coach\"),\n    icon: 'fitness'\n  }, {\n    key: 'recipe_suggester',\n    label: t(\"assistant.experts.recipe_suggester\"),\n    icon: 'restaurant'\n  }];\n  var knowledges = [{\n    key: \"twake_knowledge\",\n    label: t('assistant.knowledge_bases.twake_knowledge'),\n    icon: _TwakeAssistantIconColor.TwakeAssistantIconColor\n  }, {\n    key: \"web\",\n    label: t('assistant.knowledge_bases.web'),\n    icon: 'globe'\n  }, {\n    key: \"linagora_client\",\n    label: t('assistant.knowledge_bases.linagora_client'),\n    icon: 'collect'\n  }, {\n    key: \"security_procedures\",\n    label: t('assistant.knowledge_bases.security_procedures'),\n    icon: 'lock'\n  }, {\n    key: \"other_1\",\n    label: t('assistant.knowledge_bases.other'),\n    icon: 'globe'\n  }, {\n    key: \"other_2\",\n    label: t('assistant.knowledge_bases.other'),\n    icon: 'globe'\n  }, {\n    key: \"other_3\",\n    label: t('assistant.knowledge_bases.other'),\n    icon: 'globe'\n  }, {\n    key: \"other_4\",\n    label: t('assistant.knowledge_bases.other'),\n    icon: 'globe'\n  }, {\n    key: \"other_5\",\n    label: t('assistant.knowledge_bases.other'),\n    icon: 'globe'\n  }, {\n    key: \"other_6\",\n    label: t('assistant.knowledge_bases.other'),\n    icon: 'globe'\n  }];\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      selectedExpert = _useState2[0],\n      setSelectedExpert = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(knowledges.map(function (knowledge) {\n    return knowledge.key;\n  })),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      selectedKnowledges = _useState4[0],\n      setSelectedKnowledges = _useState4[1];\n\n  var prevExpertRef = (0, _react.useRef)(null);\n  var isExternalExpertSelected = (0, _react.useMemo)(function () {\n    var expert = selectedExpert ? experts.find(function (e) {\n      return e.key === selectedExpert;\n    }) : null;\n    return expert ? expert.external : false;\n  }, [selectedExpert, experts]);\n  (0, _react.useEffect)(function () {\n    var prevExpert = prevExpertRef.current;\n    var currentExpert = selectedExpert ? experts.find(function (e) {\n      return e.key === selectedExpert;\n    }) : null;\n\n    if (!selectedExpert && prevExpert !== null) {\n      setSelectedKnowledges(knowledges.map(function (knowledge) {\n        return knowledge.key;\n      }));\n    }\n\n    prevExpertRef.current = selectedExpert;\n  }, [selectedExpert, experts, knowledges]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"u-flex u-flex-column u-flex-items-start u-flex-justify-start, u-w-100\"\n  }, /*#__PURE__*/_react.default.createElement(ChatKnowledges, {\n    knowledges: knowledges,\n    selectedKnowledges: selectedKnowledges,\n    setSelectedKnowledges: setSelectedKnowledges\n  }), /*#__PURE__*/_react.default.createElement(ChatExperts, {\n    experts: experts,\n    selectedExpert: selectedExpert,\n    setSelectedExpert: setSelectedExpert\n  }), isExternalExpertSelected && /*#__PURE__*/_react.default.createElement(ExternalExpertWarning, null));\n};\n\nvar ChatExperts = function ChatExperts(_ref) {\n  var experts = _ref.experts,\n      selectedExpert = _ref.selectedExpert,\n      setSelectedExpert = _ref.setSelectedExpert;\n\n  var _useI18n2 = (0, _I18n.useI18n)(),\n      t = _useI18n2.t;\n\n  var expertsState = (0, _react.useMemo)(function () {\n    return experts.map(function (expert) {\n      return _objectSpread(_objectSpread({}, expert), {}, {\n        selected: expert.key === selectedExpert\n      });\n    });\n  }, [selectedExpert, experts]);\n  return /*#__PURE__*/_react.default.createElement(ChatChips, {\n    modes: expertsState,\n    onModeSelect: function onModeSelect(key) {\n      setSelectedExpert(key === selectedExpert ? null : key);\n    },\n    splice: 4,\n    startIcon: _ExpertIcon.ExpertIcon,\n    moreEndLabel: t('assistant.conversationBar.more.experts')\n  });\n};\n\nvar ChatKnowledges = function ChatKnowledges(_ref2) {\n  var knowledges = _ref2.knowledges,\n      selectedKnowledges = _ref2.selectedKnowledges,\n      setSelectedKnowledges = _ref2.setSelectedKnowledges;\n\n  var _useI18n3 = (0, _I18n.useI18n)(),\n      t = _useI18n3.t;\n\n  var knowledgesState = (0, _react.useMemo)(function () {\n    return knowledges.map(function (knowledge) {\n      return _objectSpread(_objectSpread({}, knowledge), {}, {\n        selected: selectedKnowledges.includes(knowledge.key)\n      });\n    });\n  }, [selectedKnowledges]);\n  return /*#__PURE__*/_react.default.createElement(ChatChips, {\n    modes: knowledgesState,\n    onModeSelect: function onModeSelect(key) {\n      if (selectedKnowledges.includes(key)) {\n        setSelectedKnowledges(selectedKnowledges.filter(function (k) {\n          return k !== key;\n        }));\n      } else {\n        setSelectedKnowledges([].concat((0, _toConsumableArray2.default)(selectedKnowledges), [key]));\n      }\n    },\n    splice: 4,\n    startIcon: _KnowledgeBaseIcon.KnowledgeBaseIcon,\n    moreEndLabel: t('assistant.conversationBar.more.knowledge_bases')\n  });\n};\n\nvar ChatChips = function ChatChips(_ref3) {\n  var modes = _ref3.modes,\n      onModeSelect = _ref3.onModeSelect,\n      _ref3$splice = _ref3.splice,\n      splice = _ref3$splice === void 0 ? 3 : _ref3$splice,\n      _ref3$startIcon = _ref3.startIcon,\n      startIcon = _ref3$startIcon === void 0 ? _ExpertIcon.ExpertIcon : _ref3$startIcon,\n      moreEndLabel = _ref3.moreEndLabel;\n  var visibleModes = modes.slice(0, splice);\n  var remainingCount = modes.length - splice;\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"u-flex u-flex-row u-flex-wrap u-w-100 u-flex-justify-between u-flex-items-center u-mb-1\",\n    style: {\n      gap: 8\n    }\n  }, /*#__PURE__*/_react.default.createElement(_Icon.default, {\n    icon: startIcon,\n    size: 24,\n    style: {\n      opacity: 0.6\n    }\n  }), visibleModes.map(function (mode) {\n    var warningColor = mode.selected ? 'var(--warningColor)' : undefined;\n    return /*#__PURE__*/_react.default.createElement(_Chips.default, {\n      icon: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n        icon: mode.icon,\n        style: {\n          marginLeft: 12\n        }\n      }),\n      label: mode.label,\n      clickable: true,\n      onDelete: mode.external && function () {},\n      deleteIcon: mode.external && /*#__PURE__*/_react.default.createElement(_Icon.default, {\n        icon: \"openwith\",\n        className: \"u-h-1\",\n        style: {\n          fill: warningColor,\n          color: warningColor\n        }\n      }),\n      color: mode.external && mode.selected ? 'warning' : undefined,\n      key: mode.label,\n      variant: mode.selected ? 'ghost' : 'default',\n      style: {\n        borderStyle: 'solid'\n      },\n      className: \"u-mr-0\",\n      onClick: function onClick() {\n        onModeSelect(mode.key);\n      }\n    });\n  }), remainingCount > 0 && /*#__PURE__*/_react.default.createElement(_Chips.default, {\n    label: \"+\".concat(remainingCount, \" \").concat(moreEndLabel || 'more'),\n    clickable: true,\n    variant: \"outlined\"\n  }));\n};\n\nvar ExternalExpertWarning = function ExternalExpertWarning() {\n  var _useI18n4 = (0, _I18n.useI18n)(),\n      t = _useI18n4.t;\n\n  return /*#__PURE__*/_react.default.createElement(_Alert.default, {\n    severity: \"warning\",\n    style: {\n      width: 'calc(100% - (16px * 2))'\n    },\n    action: /*#__PURE__*/_react.default.createElement(_Buttons.default, {\n      variant: \"text\",\n      label: t('assistant.experts.external_warning.know_more'),\n      color: \"warning\"\n    })\n  }, /*#__PURE__*/_react.default.createElement(_AlertTitle.default, null, t('assistant.experts.external_warning.title')), t('assistant.experts.external_warning.description'));\n};\n\nvar _default = ChatModes;\nexports.default = _default;"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}