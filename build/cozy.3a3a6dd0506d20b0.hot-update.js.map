{"version":3,"file":"cozy.3a3a6dd0506d20b0.hot-update.js","sources":["/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/styles.styl","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/ConversationLayout.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/ConversationList.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/Sources/Sources.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/Conversations/Sources/SourcesItem.js","/Users/vincelinise/Documents/GitHub/cozy-home/node_modules/cozy-search/dist/components/ResultMenu/NoResultItem.js"],"sourcesContent":["// extracted by css-extract-rspack-plugin\nexport default {\"conversationBar\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-GQkEEE\",\"conversationBar-input\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-input-SIs7Fw\",\"conversationBarInput\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-input-SIs7Fw\",\"conversationBarSibling\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling-rNqDq3\",\"conversationBarSibling--started\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling--started-DzEAwq\",\"conversationBarSiblingStarted\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling--started-DzEAwq\"};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = \"{\\\"conversationBar\\\":\\\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-GQkEEE\\\",\\\"conversationBar-input\\\":\\\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-input-SIs7Fw\\\",\\\"conversationBarInput\\\":\\\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-input-SIs7Fw\\\",\\\"conversationBarSibling\\\":\\\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling-rNqDq3\\\",\\\"conversationBarSibling--started\\\":\\\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling--started-DzEAwq\\\",\\\"conversationBarSiblingStarted\\\":\\\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling--started-DzEAwq\\\"}\";\n        // 1761294542935\n        var cssReload = require(\"../../../../@rspack/core/dist/cssExtractHmr.js\").cssReload(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _CozyDialogs = require(\"cozy-ui/transpiled/react/CozyDialogs\");\n\nvar _Breakpoints = require(\"cozy-ui/transpiled/react/providers/Breakpoints\");\n\nvar _CozyTheme = _interopRequireDefault(require(\"cozy-ui/transpiled/react/providers/CozyTheme\"));\n\nvar _Buttons = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Buttons\"));\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _AssistantProvider = _interopRequireWildcard(require(\"../AssistantProvider\"));\n\nvar _Conversation = _interopRequireDefault(require(\"../Conversations/Conversation\"));\n\nvar _ConversationBar = _interopRequireDefault(require(\"../Conversations/ConversationBar\"));\n\nvar _ConversationList = _interopRequireDefault(require(\"./ConversationList\"));\n\nvar _AppTitle = _interopRequireDefault(require(\"cozy-ui/transpiled/react/AppTitle\"));\n\nvar _Typography = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Typography\"));\n\nvar _queries = require(\"../queries\");\n\nvar _cozyClient = require(\"cozy-client\");\n\nvar _excluded = [\"data\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar styles = {\n  \"conversationApp\": \"Conversation__conversationApp___2oUn_\",\n  \"conversationHeader\": \"Conversation__conversationHeader___2l1KR\",\n  \"conversationLayout\": \"Conversation__conversationLayout___2FuAs\",\n  \"conversationWindowContainer\": \"Conversation__conversationWindowContainer___1nhGG\",\n  \"conversationWindow\": \"Conversation__conversationWindow___1QWU-\",\n  \"conversationContainer\": \"Conversation__conversationContainer___14O1v\",\n  \"conversationContainer--started\": \"Conversation__conversationContainer--started___1pmlF\",\n  \"conversationHistory\": \"Conversation__conversationHistory___3fV_I\",\n  \"conversationHistory--open\": \"Conversation__conversationHistory--open___p6m3y\",\n  \"conversationHistory--mobile\": \"Conversation__conversationHistory--mobile___3My-p\",\n  \"conversationSwitcher\": \"Conversation__conversationSwitcher___2bj3S\",\n  \"conversationSwitcher--closed\": \"Conversation__conversationSwitcher--closed___KyFAu\"\n};\n\nvar ConversationLayout = function ConversationLayout(_ref) {\n  var conversationId = _ref.conversationId,\n      assistantState = _ref.assistantState;\n\n  var _useBreakpoints = (0, _Breakpoints.useBreakpoints)(),\n      isMobile = _useBreakpoints.isMobile;\n\n  var chatConversationQuery = (0, _queries.buildChatConversationQueryById)(conversationId !== null && conversationId !== void 0 ? conversationId : \"\");\n\n  var _useQuery = (0, _cozyClient.useQuery)(chatConversationQuery.definition, chatConversationQuery.options),\n      chatConversation = _useQuery.data,\n      queryResult = (0, _objectWithoutProperties2.default)(_useQuery, _excluded);\n\n  var hasConversationStarted = chatConversation && chatConversation.messages.length > 0;\n\n  var _useState = (0, _react.useState)(!isMobile),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      historyOpen = _useState2[0],\n      setHistoryOpen = _useState2[1];\n\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(styles['conversationApp'])\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(styles['conversationHeader'])\n  }, /*#__PURE__*/_react.default.createElement(_AppTitle.default, {\n    slug: \"home\"\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(styles['conversationLayout'])\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(styles['conversationSwitcher'], \" \").concat(historyOpen ? styles['conversationSwitcher--open'] : styles['conversationSwitcher--closed'])\n  }, /*#__PURE__*/_react.default.createElement(_Buttons.default, {\n    label: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n      icon: \"burger\"\n    }),\n    onClick: function onClick() {\n      setHistoryOpen(!historyOpen);\n    },\n    variant: historyOpen ? \"ghost\" : \"text\",\n    className: \"u-bdrs-4\",\n    style: {\n      padding: 0,\n      minWidth: 36,\n      height: 30\n    }\n  }), /*#__PURE__*/_react.default.createElement(_Buttons.default, {\n    label: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n      icon: \"magnifier\"\n    }),\n    variant: \"text\",\n    className: \"u-bdrs-4\",\n    style: {\n      padding: 0,\n      minWidth: 36,\n      height: 30\n    }\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"u-flex u-flex-column u-flex-items-center u-flex-justify-center \".concat(styles['conversationHistory'], \" \").concat(historyOpen ? styles['conversationHistory--open'] : '', \" \").concat(isMobile ? styles['conversationHistory--mobile'] : '')\n  }, /*#__PURE__*/_react.default.createElement(_ConversationList.default, {\n    onNewConversation: function onNewConversation() {}\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(styles['conversationWindowContainer'])\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"u-flex u-flex-column u-flex-items-center u-flex-justify-center \".concat(styles['conversationWindow'])\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(styles['conversationContainer'], \" \").concat(hasConversationStarted ? styles['conversationContainer--started'] : '')\n  }, /*#__PURE__*/_react.default.createElement(_Conversation.default, {\n    id: conversationId\n  })), /*#__PURE__*/_react.default.createElement(_ConversationBar.default, {\n    assistantStatus: assistantState.status,\n    hasConversationStarted: hasConversationStarted\n  })))));\n};\n\nvar _default = ConversationLayout;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Buttons = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Buttons\"));\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _List = _interopRequireDefault(require(\"cozy-ui/transpiled/react/List\"));\n\nvar _ListItem = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItem\"));\n\nvar _ListItemText = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItemText\"));\n\nvar _Typography = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Typography\"));\n\nvar _I18n = require(\"cozy-ui/transpiled/react/providers/I18n\");\n\nvar _cozyClient = require(\"cozy-client\");\n\nvar _queries = require(\"../queries\");\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _helpers = require(\"../helpers\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar ConversationList = function ConversationList(_ref) {\n  var onNewConversation = _ref.onNewConversation;\n\n  var _useI18n = (0, _I18n.useI18n)(),\n      t = _useI18n.t;\n\n  var client = (0, _cozyClient.useClient)();\n  var navigate = (0, _reactRouterDom.useNavigate)();\n\n  var _useParams = (0, _reactRouterDom.useParams)(),\n      conversationId = _useParams.conversationId;\n\n  var _useSearchParams = (0, _reactRouterDom.useSearchParams)(),\n      _useSearchParams2 = (0, _slicedToArray2.default)(_useSearchParams, 1),\n      searchParams = _useSearchParams2[0];\n\n  var recentConvsQuery = (0, _queries.buildRecentConversationsQuery)();\n\n  var goToConversation = function goToConversation(conversationId) {\n    navigate(\"/assistant/\".concat(conversationId).concat(searchParams.toString() ? \"?\".concat(searchParams.toString()) : ''));\n  };\n\n  var createNewConversation = function createNewConversation() {\n    var newConversationId = (0, _helpers.makeConversationId)();\n    goToConversation(newConversationId);\n  };\n\n  var _useQuery = (0, _cozyClient.useQuery)(recentConvsQuery.definition, recentConvsQuery.options),\n      conversations = _useQuery.data,\n      historyFetchStatus = _useQuery.historyFetchStatus;\n\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"u-flex u-flex-column u-w-100 u-h-100 u-flex-align-center u-flex-justify-start\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      height: 44\n    }\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"u-m-1-half u-mb-0\"\n  }, /*#__PURE__*/_react.default.createElement(_Buttons.default, {\n    startIcon: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n      icon: \"plus\",\n      size: 14\n    }),\n    label: t('assistant.conversationBar.newChat'),\n    onClick: createNewConversation,\n    variant: \"primary\",\n    className: \"u-w-100 u-bdrs-6\"\n  })), /*#__PURE__*/_react.default.createElement(_Typography.default, {\n    className: \"u-ph-half u-mh-1 u-mb-half\",\n    variant: \"subtitle1\",\n    color: \"textSecondary\"\n  }, t('assistant.conversationList.recentConversations')), /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      height: '100%',\n      width: '100%',\n      overflow: 'scroll'\n    }\n  }, /*#__PURE__*/_react.default.createElement(_List.default, {\n    className: \"u-ph-half\",\n    disabledGutters: true\n  }, conversations && conversations.map(function (conv, index) {\n    var _conv$messages, _conv$messages2, _conv$cozyMetadata;\n\n    return /*#__PURE__*/_react.default.createElement(_ListItem.default, {\n      dense: true,\n      button: true,\n      className: \"u-bdrs-4 u-mb-half\",\n      key: index,\n      style: {\n        backgroundColor: conversationId === conv.id ? 'var(--defaultBackgroundColor)' : undefined\n      },\n      onClick: function onClick() {\n        return goToConversation(conv.id);\n      }\n    }, /*#__PURE__*/_react.default.createElement(_ListItemText.default, null, /*#__PURE__*/_react.default.createElement(_Typography.default, {\n      variant: \"body2\"\n    }, (_conv$messages = conv.messages[conv.messages.length - 1]) === null || _conv$messages === void 0 ? void 0 : _conv$messages.content), /*#__PURE__*/_react.default.createElement(_Typography.default, {\n      variant: \"subtitle1\",\n      color: \"textSecondary\"\n    }, (_conv$messages2 = conv.messages[conv.messages.length - 1]) === null || _conv$messages2 === void 0 ? void 0 : _conv$messages2.content), /*#__PURE__*/_react.default.createElement(_Typography.default, {\n      variant: \"caption\",\n      color: \"textSecondary\"\n    }, new Date((_conv$cozyMetadata = conv.cozyMetadata) === null || _conv$cozyMetadata === void 0 ? void 0 : _conv$cozyMetadata.updatedAt).toLocaleString())));\n  }))));\n};\n\nvar _default = ConversationList;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _cozyClient = require(\"cozy-client\");\n\nvar _Box = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Box\"));\n\nvar _Chips = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Chips\"));\n\nvar _Grow = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Grow\"));\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _MultiFiles = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/MultiFiles\"));\n\nvar _Right = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icons/Right\"));\n\nvar _I18n = require(\"cozy-ui/transpiled/react/providers/I18n\");\n\nvar _SourcesItem = _interopRequireDefault(require(\"./SourcesItem\"));\n\nvar _queries = require(\"../../queries\");\n\nvar _excluded = [\"data\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar Sources = function Sources(_ref) {\n  var messageId = _ref.messageId,\n      files = _ref.files;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      showSources = _useState2[0],\n      setShowSources = _useState2[1];\n\n  var _useI18n = (0, _I18n.useI18n)(),\n      t = _useI18n.t;\n\n  var ref = (0, _react.useRef)();\n\n  var handleShowSources = function handleShowSources() {\n    setShowSources(function (v) {\n      return !v;\n    });\n  }; // we want to scroll down to the sources button when it is displayed\n\n\n  (0, _react.useEffect)(function () {\n    var _ref$current;\n\n    (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.scrollIntoView(false);\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (showSources) {\n      var sourcesBottom = ref.current.getBoundingClientRect().bottom;\n      var innerContainer = document.getElementsByClassName('cozyDialogContent')[0];\n      var innerContainerBottom = innerContainer.getBoundingClientRect().bottom;\n\n      if (sourcesBottom > innerContainerBottom) {\n        ref.current.scrollIntoView(false);\n      }\n    }\n  }, [showSources]);\n  return /*#__PURE__*/_react.default.createElement(_Box.default, {\n    ref: ref,\n    className: \"u-mt-1-half\",\n    pl: \"44px\"\n  }, /*#__PURE__*/_react.default.createElement(_Chips.default, {\n    className: \"u-mb-1\",\n    icon: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n      icon: _MultiFiles.default,\n      className: \"u-ml-half\"\n    }),\n    label: t('assistant.sources', files.length),\n    deleteIcon: /*#__PURE__*/_react.default.createElement(_Icon.default, {\n      className: \"u-h-1\",\n      icon: _Right.default,\n      rotate: showSources ? 90 : 0\n    }),\n    clickable: true,\n    onClick: handleShowSources,\n    onDelete: handleShowSources\n  }), /*#__PURE__*/_react.default.createElement(_Grow.default, {\n    in: showSources,\n    style: {\n      transformOrigin: '0 0 0'\n    },\n    mountOnEnter: true,\n    unmountOnExit: true\n  }, /*#__PURE__*/_react.default.createElement(\"div\", null, files.map(function (file) {\n    return /*#__PURE__*/_react.default.createElement(_SourcesItem.default, {\n      key: \"\".concat(messageId, \"-\").concat(file._id),\n      file: file\n    });\n  }))));\n};\n\nvar SourcesWithFilesQuery = function SourcesWithFilesQuery(_ref2) {\n  var messageId = _ref2.messageId,\n      sources = _ref2.sources;\n  var fileIds = sources.map(function (source) {\n    return source.id;\n  });\n  var filesByIds = (0, _queries.buildFilesByIds)(fileIds);\n\n  var _useQuery = (0, _cozyClient.useQuery)(filesByIds.definition, filesByIds.options),\n      files = _useQuery.data,\n      queryResult = (0, _objectWithoutProperties2.default)(_useQuery, _excluded);\n\n  var isLoading = (0, _cozyClient.isQueryLoading)(queryResult);\n  if (isLoading || files.length === 0) return null;\n  return /*#__PURE__*/_react.default.createElement(Sources, {\n    messageId: messageId,\n    files: files\n  });\n};\n\nvar _default = SourcesWithFilesQuery;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _cozyClient = require(\"cozy-client\");\n\nvar _file = require(\"cozy-client/dist/models/file\");\n\nvar _Icon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/Icon\"));\n\nvar _ListItem = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItem\"));\n\nvar _ListItemIcon = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItemIcon\"));\n\nvar _ListItemText = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItemText\"));\n\nvar _getIconForSearchResult = require(\"../../Search/getIconForSearchResult\");\n\nvar styles = {\n  \"sourcesItem\": \"styles__sourcesItem___204Zw\"\n};\n\nvar getSlug = function getSlug(file) {\n  if ((0, _file.isNote)(file)) {\n    return 'notes';\n  }\n\n  if ((0, _file.isDocs)(file)) {\n    return 'docs';\n  }\n\n  return 'drive';\n};\n\nvar getHash = function getHash(file, slug) {\n  if (slug === 'notes') {\n    return \"/n/\".concat(file._id);\n  }\n\n  if (slug === 'docs') {\n    return \"/bridge/docs/\".concat(file.metadata.externalId);\n  }\n\n  return \"/folder/\".concat(file.dir_id, \"/file/\").concat(file._id);\n};\n\nvar SourcesItem = function SourcesItem(_ref) {\n  var file = _ref.file;\n  var client = (0, _cozyClient.useClient)();\n  var slug = getSlug(file);\n  var hash = getHash(file, slug);\n  var docUrl = (0, _cozyClient.generateWebLink)({\n    slug: slug,\n    cozyUrl: client === null || client === void 0 ? void 0 : client.getStackClient().uri,\n    subDomainType: client === null || client === void 0 ? void 0 : client.getInstanceOptions().subdomain,\n    hash: hash\n  });\n  return /*#__PURE__*/_react.default.createElement(_ListItem.default, {\n    className: styles['sourcesItem'],\n    component: \"a\",\n    href: docUrl,\n    target: \"_blank\",\n    button: true\n  }, /*#__PURE__*/_react.default.createElement(_ListItemIcon.default, null, /*#__PURE__*/_react.default.createElement(_Icon.default, {\n    icon: (0, _getIconForSearchResult.getDriveMimeTypeIcon)(file),\n    size: 32\n  })), /*#__PURE__*/_react.default.createElement(_ListItemText.default, {\n    primary: file.name,\n    secondary: file.path.replace(file.name, '')\n  }));\n};\n\nvar _default = SourcesItem;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ListItem = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItem\"));\n\nvar _ListItemText = _interopRequireDefault(require(\"cozy-ui/transpiled/react/ListItemText\"));\n\nvar _I18n = require(\"cozy-ui/transpiled/react/providers/I18n\");\n\nvar NoResultItem = function NoResultItem() {\n  var _useI18n = (0, _I18n.useI18n)(),\n      t = _useI18n.t;\n\n  return /*#__PURE__*/_react.default.createElement(_ListItem.default, {\n    size: \"small\"\n  }, /*#__PURE__*/_react.default.createElement(_ListItemText.default, {\n    primary: t('assistant.search.noItem')\n  }));\n};\n\nvar _default = NoResultItem;\nexports.default = _default;"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}