"use strict";
self["webpackHotUpdatecozy_home"]("cozy", {
"./node_modules/cozy-search/dist/components/Conversations/Sources/styles.styl": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
// extracted by css-extract-rspack-plugin
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"sourcesItem":"node_modules-cozy-search-dist-components-Conversations-Sources-styles__sourcesItem-tB_a2R"});
    if(true) {
      (function() {
        var localsJsonString = "{\"sourcesItem\":\"node_modules-cozy-search-dist-components-Conversations-Sources-styles__sourcesItem-tB_a2R\"}";
        // 1761295113542
        var cssReload = (__webpack_require__("./node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./node_modules/cozy-search/dist/components/Conversations/styles.styl": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
// extracted by css-extract-rspack-plugin
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"conversationBar":"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-GQkEEE","conversationBar-input":"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-input-SIs7Fw","conversationBarInput":"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-input-SIs7Fw","conversationBarSibling":"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling-rNqDq3","conversationBarSibling--started":"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling--started-DzEAwq","conversationBarSiblingStarted":"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling--started-DzEAwq"});
    if(true) {
      (function() {
        var localsJsonString = "{\"conversationBar\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-GQkEEE\",\"conversationBar-input\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-input-SIs7Fw\",\"conversationBarInput\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBar-input-SIs7Fw\",\"conversationBarSibling\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling-rNqDq3\",\"conversationBarSibling--started\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling--started-DzEAwq\",\"conversationBarSiblingStarted\":\"node_modules-cozy-search-dist-components-Conversations-styles__conversationBarSibling--started-DzEAwq\"}";
        // 1761295113543
        var cssReload = (__webpack_require__("./node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./node_modules/cozy-search/dist/components/ResultMenu/styles.styl": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
// extracted by css-extract-rspack-plugin
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"resultMenu":"node_modules-cozy-search-dist-components-ResultMenu-styles__resultMenu-fu31kM","resultMenu-inner":"node_modules-cozy-search-dist-components-ResultMenu-styles__resultMenu-inner-fFyvIG","resultMenuInner":"node_modules-cozy-search-dist-components-ResultMenu-styles__resultMenu-inner-fFyvIG","resultMenuItem":"node_modules-cozy-search-dist-components-ResultMenu-styles__resultMenuItem-Zmnd8T"});
    if(true) {
      (function() {
        var localsJsonString = "{\"resultMenu\":\"node_modules-cozy-search-dist-components-ResultMenu-styles__resultMenu-fu31kM\",\"resultMenu-inner\":\"node_modules-cozy-search-dist-components-ResultMenu-styles__resultMenu-inner-fFyvIG\",\"resultMenuInner\":\"node_modules-cozy-search-dist-components-ResultMenu-styles__resultMenu-inner-fFyvIG\",\"resultMenuItem\":\"node_modules-cozy-search-dist-components-ResultMenu-styles__resultMenuItem-Zmnd8T\"}";
        // 1761295113539
        var cssReload = (__webpack_require__("./node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./node_modules/cozy-search/dist/components/Search/styles.styl": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
// extracted by css-extract-rspack-plugin
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"searchBarDesktop--result":"node_modules-cozy-search-dist-components-Search-styles__searchBarDesktop--result-YboYz0","searchBarDesktopResult":"node_modules-cozy-search-dist-components-Search-styles__searchBarDesktop--result-YboYz0","suggestionsPlaceholder":"node_modules-cozy-search-dist-components-Search-styles__suggestionsPlaceholder-UrfBlm","search-bar-icon":"node_modules-cozy-search-dist-components-Search-styles__search-bar-icon-qjIaoX","searchBarIcon":"node_modules-cozy-search-dist-components-Search-styles__search-bar-icon-qjIaoX"});
    if(true) {
      (function() {
        var localsJsonString = "{\"searchBarDesktop--result\":\"node_modules-cozy-search-dist-components-Search-styles__searchBarDesktop--result-YboYz0\",\"searchBarDesktopResult\":\"node_modules-cozy-search-dist-components-Search-styles__searchBarDesktop--result-YboYz0\",\"suggestionsPlaceholder\":\"node_modules-cozy-search-dist-components-Search-styles__suggestionsPlaceholder-UrfBlm\",\"search-bar-icon\":\"node_modules-cozy-search-dist-components-Search-styles__search-bar-icon-qjIaoX\",\"searchBarIcon\":\"node_modules-cozy-search-dist-components-Search-styles__search-bar-icon-qjIaoX\"}";
        // 1761295113540
        var cssReload = (__webpack_require__("./node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./node_modules/cozy-search/dist/components/Stylus/Conversation.styl": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
// extracted by css-extract-rspack-plugin
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"conversationApp":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationApp-XOctCg","conversationHeader":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHeader-KiJK8n","conversationLayout":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationLayout-jpyGk4","conversationWindowContainer":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationWindowContainer-ZtLESh","conversationWindow":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationWindow-pCkGUY","conversationContainer":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationContainer-dspnD9","conversationContainer--started":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationContainer--started-y1Gdb3","conversationContainerStarted":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationContainer--started-y1Gdb3","conversationHistory":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHistory-HUcghx","conversationHistory--open":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHistory--open-cLBanX","conversationHistoryOpen":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHistory--open-cLBanX","conversationHistory--mobile":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHistory--mobile-hZLWmJ","conversationHistoryMobile":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHistory--mobile-hZLWmJ","conversationSwitcher":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationSwitcher-LiRacX","conversationSwitcher--closed":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationSwitcher--closed-rUJ0NL","conversationSwitcherClosed":"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationSwitcher--closed-rUJ0NL"});
    if(true) {
      (function() {
        var localsJsonString = "{\"conversationApp\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationApp-XOctCg\",\"conversationHeader\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHeader-KiJK8n\",\"conversationLayout\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationLayout-jpyGk4\",\"conversationWindowContainer\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationWindowContainer-ZtLESh\",\"conversationWindow\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationWindow-pCkGUY\",\"conversationContainer\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationContainer-dspnD9\",\"conversationContainer--started\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationContainer--started-y1Gdb3\",\"conversationContainerStarted\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationContainer--started-y1Gdb3\",\"conversationHistory\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHistory-HUcghx\",\"conversationHistory--open\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHistory--open-cLBanX\",\"conversationHistoryOpen\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHistory--open-cLBanX\",\"conversationHistory--mobile\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHistory--mobile-hZLWmJ\",\"conversationHistoryMobile\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationHistory--mobile-hZLWmJ\",\"conversationSwitcher\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationSwitcher-LiRacX\",\"conversationSwitcher--closed\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationSwitcher--closed-rUJ0NL\",\"conversationSwitcherClosed\":\"node_modules-cozy-search-dist-components-Stylus-Conversation__conversationSwitcher--closed-rUJ0NL\"}";
        // 1761295113541
        var cssReload = (__webpack_require__("./node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./node_modules/cozy-search/dist/components/AssistantDesktop.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/prop-types/index.js");
/* ESM import */var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_providers_I18n_useExtendI18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/I18n/useExtendI18n.js");
/* ESM import */var _AssistantProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantProvider.js");
/* ESM import */var _Search_SearchBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/Search/SearchBar.js");
/* ESM import */var _Search_SearchProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/Search/SearchProvider.js");
/* ESM import */var _locales__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-search/dist/locales/index.js");







const AssistantDesktop = ({ componentsProps, searchOptions = {} }) => {
    (0,cozy_ui_transpiled_react_providers_I18n_useExtendI18n__WEBPACK_IMPORTED_MODULE_5__["default"])(_locales__WEBPACK_IMPORTED_MODULE_4__.locales);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "u-mh-auto u-w-100 u-maw-100" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_AssistantProvider__WEBPACK_IMPORTED_MODULE_1__["default"], null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Search_SearchProvider__WEBPACK_IMPORTED_MODULE_3__["default"], { searchOptions: searchOptions },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Search_SearchBar__WEBPACK_IMPORTED_MODULE_2__["default"], { componentsProps: componentsProps })))));
};
AssistantDesktop.propTypes = {
    componentsProps: prop_types__WEBPACK_IMPORTED_MODULE_6___default().shape({
        SearchBarDesktop: prop_types__WEBPACK_IMPORTED_MODULE_6___default().shape({
            elevation: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().number),
            size: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().string),
            hasHalfBorderRadius: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool),
            className: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().string),
            disabledHover: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool)
        })
    })
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AssistantDesktop);


}),
"./node_modules/cozy-search/dist/components/AssistantIcon/ExpertIcon.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  ExpertIcon: () => (ExpertIcon)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

const ExpertIcon = props => {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", Object.assign({ viewBox: "0 0 24 24", fill: "none" }, props),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", { d: "M15.088 18.923a.62.62 0 0 1 .504.159l.72.676L15.096 23l-.785-1.626-1.68.758 1.14-3.03zm3.824 0 1.361.186a.6.6 0 0 0 .284-.03l1.15 3.053-1.682-.758L19.242 23l-1.307-3.477.473-.441a.62.62 0 0 1 .504-.16M16.58 9.164a.62.62 0 0 1 .84 0l.719.673a.62.62 0 0 0 .505.16l.989-.138a.604.604 0 0 1 .68.479l.171.952c.033.177.148.33.312.415l.883.453c.287.148.402.49.26.774l-.439.868a.57.57 0 0 0 0 .513l.439.869a.577.577 0 0 1-.26.773l-.883.453a.59.59 0 0 0-.312.416l-.172.952a.603.603 0 0 1-.68.478l-.988-.135a.62.62 0 0 0-.505.157l-.718.673a.62.62 0 0 1-.84 0l-.72-.673a.62.62 0 0 0-.504-.157l-.988.135a.603.603 0 0 1-.68-.478l-.173-.952a.59.59 0 0 0-.312-.416l-.883-.453a.577.577 0 0 1-.26-.773l.439-.869a.57.57 0 0 0 0-.513l-.438-.868a.577.577 0 0 1 .26-.774l.882-.453a.59.59 0 0 0 .312-.415l.172-.952a.604.604 0 0 1 .681-.479l.988.137a.62.62 0 0 0 .504-.16zM11.022 13q.037.236.148.462l.316.64-.316.642a1.66 1.66 0 0 0 .717 2.198l.637.338.125.705c.036.2.107.384.204.55l-.171.465H3v-2c0-2.21 3.58-4 8-4zM17 10.886c-1.81 0-3.278 1.42-3.278 3.17 0 1.752 1.468 3.173 3.278 3.173 1.81-.001 3.277-1.421 3.277-3.172s-1.467-3.17-3.277-3.171m-.346 1.026c.109-.323.582-.323.69 0l.31.922a.36.36 0 0 0 .344.243h1.002c.351 0 .497.434.214.634l-.81.57a.35.35 0 0 0-.134.393l.311.92c.108.324-.274.594-.559.394l-.81-.57a.37.37 0 0 0-.426 0l-.81.57c-.285.2-.668-.07-.559-.393l.31-.921a.35.35 0 0 0-.132-.394l-.81-.57c-.284-.199-.138-.633.213-.633h1.002a.36.36 0 0 0 .345-.243zM11 3a4 4 0 0 1 3.536 5.866h-.01a1.67 1.67 0 0 0-1.84 1.197l-.004.012-.003.013-.025.112-.003.01-.002.013-.08.455A3.996 3.996 0 0 1 7 7a4 4 0 0 1 4-4" })));
};


}),
"./node_modules/cozy-search/dist/components/AssistantIcon/KnowledgeBaseIcon.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  KnowledgeBaseIcon: () => (KnowledgeBaseIcon)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

const KnowledgeBaseIcon = props => {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", Object.assign({ viewBox: "0 0 24 24", fill: "none" }, props),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", { d: "M12 18.91c-2.013 0-4.284-.466-6.074-1.245-.657-.289-1.22-.756-1.679-1.125a.15.15 0 0 0-.161-.016.16.16 0 0 0-.063.06.17.17 0 0 0-.023.084v.505c0 1.128.903 2.139 2.544 2.846C8.01 20.652 9.949 21 12 21s3.989-.348 5.456-.981C19.096 19.313 20 18.3 20 17.173v-.505q0-.046-.023-.085a.16.16 0 0 0-.063-.06.15.15 0 0 0-.161.017c-.46.369-1.022.836-1.68 1.125-1.79.78-4.06 1.246-6.073 1.246m8-12.113c-.031-1.11-.93-2.105-2.538-2.806C15.99 3.352 14.052 3 12 3s-3.99.352-5.458.99c-1.607.7-2.506 1.693-2.539 2.8L4 7.5c0 .258.2.662.563.994.428.39 1.063.776 1.837 1.114 1.648.719 3.741 1.146 5.6 1.146s3.952-.429 5.6-1.148c.774-.337 1.41-.723 1.837-1.114.363-.33.563-.734.563-.992z" }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", { d: "M18.074 10.795c-1.79.78-4.06 1.245-6.074 1.245-2.013 0-4.284-.465-6.074-1.245-.657-.288-1.22-.755-1.679-1.125a.15.15 0 0 0-.224.044.17.17 0 0 0-.023.085v1.237c0 .257.2.582.563.913.428.391 1.063.777 1.837 1.114 1.648.718 3.741 1.147 5.6 1.147s3.952-.43 5.6-1.148c.774-.338 1.41-.723 1.837-1.115.363-.33.563-.654.563-.911V9.799q0-.046-.023-.085a.16.16 0 0 0-.063-.06.15.15 0 0 0-.161.017c-.46.369-1.022.836-1.68 1.124" }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", { d: "M18.074 14.25c-1.79.78-4.06 1.245-6.074 1.245-2.013 0-4.284-.465-6.074-1.245-.657-.288-1.22-.756-1.679-1.125a.15.15 0 0 0-.224.043.17.17 0 0 0-.023.086v1.197c0 .257.2.581.562.912.428.392 1.064.777 1.838 1.115 1.648.718 3.74 1.147 5.6 1.147s3.952-.43 5.6-1.148c.774-.338 1.41-.723 1.837-1.114.363-.332.563-.656.563-.912v-1.197q0-.046-.023-.085a.16.16 0 0 0-.063-.06.15.15 0 0 0-.161.017c-.46.368-1.022.836-1.68 1.124" })));
};


}),
"./node_modules/cozy-search/dist/components/AssistantIcon/TwakeAssistantIcon.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  TwakeAssistantIcon: () => (TwakeAssistantIcon)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

const TwakeAssistantIcon = props => {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg", Object.assign({ viewBox: "0 0 22 22", fill: "none" }, props),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M10.094.305a1.5 1.5 0 012.351.79l.005.02 1.581 6.135a1 1 0 00.718.719l6.136 1.58.016.005a1.5 1.5 0 010 2.892l-.016.004-6.135 1.581a1 1 0 00-.719.719l-1.582 6.135-.005.02a1.5 1.5 0 01-2.889 0l-.005-.02-1.581-6.135a1.001 1.001 0 00-.719-.719L1.115 12.45l-.023-.006a1.5 1.5 0 010-2.886l.023-.006L7.25 7.968a1 1 0 00.719-.718L9.55 1.115l.005-.02a1.5 1.5 0 01.538-.79zM11 3.503l1.095 4.247a3.002 3.002 0 002.155 2.155L18.498 11l-4.248 1.095a3.001 3.001 0 00-2.155 2.155L11 18.497 9.905 14.25a3 3 0 00-2.155-2.156L3.504 11 7.75 9.904A3 3 0 009.905 7.75L11 3.503zM19 1a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V5h-1a1 1 0 110-2h1V2a1 1 0 011-1zM3 15a1 1 0 011 1 1 1 0 110 2 1 1 0 11-2 0 1 1 0 110-2 1 1 0 011-1z" })));
};


}),
"./node_modules/cozy-search/dist/components/AssistantIcon/TwakeAssistantIconColor.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  TwakeAssistantIconColor: () => (TwakeAssistantIconColor)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

const TwakeAssistantIconColor = props => {
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", Object.assign({ xmlns: "http://www.w3.org/2000/svg", width: 18, height: 18, viewBox: "0 0 18 18" }, props),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { fill: "#4A1616", d: "M7.452 11.623a1.5 1.5 0 0 0-1.078-1.077L1.773 9.359a.375.375 0 0 1 0-.722l4.6-1.187a1.5 1.5 0 0 0 1.079-1.077l1.186-4.601a.375.375 0 0 1 .722 0l1.186 4.601a1.5 1.5 0 0 0 1.078 1.078l4.601 1.186a.375.375 0 0 1 0 .723l-4.601 1.186a1.5 1.5 0 0 0-1.078 1.077L9.36 16.225a.375.375 0 0 1-.723 0z" }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { fill: "url(#a)", d: "M7.452 11.623a1.5 1.5 0 0 0-1.078-1.077L1.773 9.359a.375.375 0 0 1 0-.722l4.6-1.187a1.5 1.5 0 0 0 1.079-1.077l1.186-4.601a.375.375 0 0 1 .722 0l1.186 4.601a1.5 1.5 0 0 0 1.078 1.078l4.601 1.186a.375.375 0 0 1 0 .723l-4.601 1.186a1.5 1.5 0 0 0-1.078 1.077L9.36 16.225a.375.375 0 0 1-.723 0z" }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { fill: "url(#b)", d: "M7.452 11.623a1.5 1.5 0 0 0-1.078-1.077L1.773 9.359a.375.375 0 0 1 0-.722l4.6-1.187a1.5 1.5 0 0 0 1.079-1.077l1.186-4.601a.375.375 0 0 1 .722 0l1.186 4.601a1.5 1.5 0 0 0 1.078 1.078l4.601 1.186a.375.375 0 0 1 0 .723l-4.601 1.186a1.5 1.5 0 0 0-1.078 1.077L9.36 16.225a.375.375 0 0 1-.723 0z" }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { fill: "#4A1616", d: "M14.998 1.682c.316 0 .571.256.571.572v.928h.929a.572.572 0 0 1 0 1.143h-.929v.929a.572.572 0 0 1-1.143 0v-.929h-.928a.572.572 0 0 1 0-1.143h.928v-.928c0-.316.256-.572.572-.572" }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { fill: "url(#c)", d: "M14.998 1.682c.316 0 .571.256.571.572v.928h.929a.572.572 0 0 1 0 1.143h-.929v.929a.572.572 0 0 1-1.143 0v-.929h-.928a.572.572 0 0 1 0-1.143h.928v-.928c0-.316.256-.572.572-.572" }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { fill: "url(#d)", d: "M14.998 1.682c.316 0 .571.256.571.572v.928h.929a.572.572 0 0 1 0 1.143h-.929v.929a.572.572 0 0 1-1.143 0v-.929h-.928a.572.572 0 0 1 0-1.143h.928v-.928c0-.316.256-.572.572-.572" }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { fill: "#4A1616", d: "M2.998 12.178c.315 0 .571.256.571.572v.178h.18a.572.572 0 0 1-.001 1.143H3.57v.179a.572.572 0 0 1-1.143 0v-.179h-.178a.572.572 0 0 1 0-1.143h.178v-.178c0-.316.256-.572.572-.572" }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { fill: "url(#e)", d: "M2.998 12.178c.315 0 .571.256.571.572v.178h.18a.572.572 0 0 1-.001 1.143H3.57v.179a.572.572 0 0 1-1.143 0v-.179h-.178a.572.572 0 0 1 0-1.143h.178v-.178c0-.316.256-.572.572-.572" }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", { fill: "url(#f)", d: "M2.998 12.178c.315 0 .571.256.571.572v.178h.18a.572.572 0 0 1-.001 1.143H3.57v.179a.572.572 0 0 1-1.143 0v-.179h-.178a.572.572 0 0 1 0-1.143h.178v-.178c0-.316.256-.572.572-.572" }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs", null,
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("linearGradient", { id: "a", x1: 16.5, x2: 1.5, y1: 10.248, y2: 10.248, gradientUnits: "userSpaceOnUse" },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 0.13, stopColor: "#A033FF" }),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 0.61, stopColor: "#0094FF" }),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 1, stopColor: "#4FB500" })),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("linearGradient", { id: "b", x1: 8.375, x2: 3.687, y1: 6.186, y2: 15.56, gradientUnits: "userSpaceOnUse" },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { stopColor: "#FFD600", stopOpacity: 0 }),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 0.563, stopColor: "#FFC700" })),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("linearGradient", { id: "c", x1: 17.069, x2: 12.926, y1: 3.849, y2: 3.849, gradientUnits: "userSpaceOnUse" },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 0.13, stopColor: "#A033FF" }),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 0.61, stopColor: "#0094FF" }),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 1, stopColor: "#4FB500" })),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("linearGradient", { id: "d", x1: 14.825, x2: 14.704, y1: 3.539, y2: 4.416, gradientUnits: "userSpaceOnUse" },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { stopColor: "#FFD600", stopOpacity: 0 }),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 0.563, stopColor: "#FFC700" })),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("linearGradient", { id: "e", x1: 4.319, x2: 1.676, y1: 13.595, y2: 13.595, gradientUnits: "userSpaceOnUse" },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 0.13, stopColor: "#A033FF" }),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 0.61, stopColor: "#0094FF" }),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 1, stopColor: "#4FB500" })),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("linearGradient", { id: "f", x1: 2.887, x2: 2.703, y1: 13.285, y2: 14.139, gradientUnits: "userSpaceOnUse" },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { stopColor: "#FFD600", stopOpacity: 0 }),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("stop", { offset: 0.563, stopColor: "#FFC700" })))));
};


}),
"./node_modules/cozy-search/dist/components/AssistantMobile.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  AssistantMobile: () => (AssistantMobile),
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/classnames/index.js");
/* ESM import */var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/prop-types/index.js");
/* ESM import */var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/react-router/dist/index.js");
/* ESM import */var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* ESM import */var cozy_ui_transpiled_react_Icons_Magnifier__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icons/Magnifier.js");
/* ESM import */var cozy_ui_transpiled_react_SearchBar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/SearchBar/index.js");
/* ESM import */var cozy_ui_transpiled_react_providers_I18n_useExtendI18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/I18n/useExtendI18n.js");
/* ESM import */var _locales__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/locales/index.js");
/* ESM import */var _Search_styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/Search/styles.styl");










const AssistantMobile = ({ componentsProps }) => {
    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_4__.useNavigate)();
    const { pathname } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_4__.useLocation)();
    (0,cozy_ui_transpiled_react_providers_I18n_useExtendI18n__WEBPACK_IMPORTED_MODULE_5__["default"])(_locales__WEBPACK_IMPORTED_MODULE_2__.locales);
    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(cozy_ui_transpiled_react_SearchBar__WEBPACK_IMPORTED_MODULE_6__["default"], Object.assign({}, componentsProps === null || componentsProps === void 0 ? void 0 : componentsProps.SearchBar, { size: "medium", icon: react__WEBPACK_IMPORTED_MODULE_1___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__["default"], { className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('u-ml-1 u-mr-half', _Search_styles_styl__WEBPACK_IMPORTED_MODULE_3__["default"]["search-bar-icon"]), icon: cozy_ui_transpiled_react_Icons_Magnifier__WEBPACK_IMPORTED_MODULE_8__["default"], size: 16 }), type: "button", onClick: () => navigate(`connected/search?returnPath=${pathname}`) })));
};
AssistantMobile.propTypes = {
    componentsProps: prop_types__WEBPACK_IMPORTED_MODULE_9___default().shape({
        SearchBar: prop_types__WEBPACK_IMPORTED_MODULE_9___default().shape({
            className: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().string)
        })
    })
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AssistantMobile);


}),
"./node_modules/cozy-search/dist/components/AssistantProvider.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  AssistantContext: () => (AssistantContext),
  "default": () => (__WEBPACK_DEFAULT_EXPORT__),
  useAssistant: () => (useAssistant)
});
/* ESM import */var lodash_set__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/lodash/set.js");
/* ESM import */var lodash_set__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_set__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/react-router/dist/index.js");
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/cozy-client/dist/index.js");
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_6__);
/* ESM import */var cozy_realtime_dist_useRealtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-realtime/dist/useRealtime.js");
/* ESM import */var _helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/helpers.js");
/* ESM import */var _queries__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-search/dist/components/queries.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};







const AssistantContext = react__WEBPACK_IMPORTED_MODULE_1___default().createContext();
const useAssistant = () => {
    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AssistantContext);
    if (!context) {
        throw new Error('useAssistant must be used within a AssistantProvider');
    }
    return context;
};
const AssistantProvider = ({ children }) => {
    const { conversationId } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useParams)();
    const client = (0,cozy_client__WEBPACK_IMPORTED_MODULE_6__.useClient)();
    const [assistantState, setAssistantState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        message: {},
        status: 'idle',
        messagesId: []
    });
    (0,cozy_realtime_dist_useRealtime__WEBPACK_IMPORTED_MODULE_2__["default"])(client, {
        [_queries__WEBPACK_IMPORTED_MODULE_4__.CHAT_CONVERSATIONS_DOCTYPE]: {
            created: res => {
                (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.pushMessagesIdInState)(conversationId, res, setAssistantState);
            },
            updated: res => {
                (0,_helpers__WEBPACK_IMPORTED_MODULE_3__.pushMessagesIdInState)(conversationId, res, setAssistantState);
            }
        }
    }, []);
    (0,cozy_realtime_dist_useRealtime__WEBPACK_IMPORTED_MODULE_2__["default"])(client, {
        [_queries__WEBPACK_IMPORTED_MODULE_4__.CHAT_EVENTS_DOCTYPE]: {
            created: res => {
                setAssistantState(prevState => {
                    // to exclude realtime messages if not relevant to the actual conversation
                    if (!(0,_helpers__WEBPACK_IMPORTED_MODULE_3__.isMessageForThisConversation)(res, prevState.messagesId)) {
                        return prevState;
                    }
                    if (res.object === 'done') {
                        if (prevState.status !== 'idle') {
                            return Object.assign(Object.assign({}, prevState), { status: 'idle' });
                        }
                    }
                    if (res.object === 'delta') {
                        const message = lodash_set__WEBPACK_IMPORTED_MODULE_0___default()(prevState.message, res.position, res.content);
                        return Object.assign(Object.assign({}, prevState), { message, status: 'writing' });
                    }
                    return prevState;
                });
            }
        }
    }, []);
    const clearAssistant = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => setAssistantState({
        message: {},
        status: 'pending',
        messagesId: []
    }), []);
    const onAssistantExecute = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((_a, callback_1) => __awaiter(void 0, [_a, callback_1], void 0, function* ({ value, conversationId }, callback) {
        if (!value)
            return;
        callback === null || callback === void 0 ? void 0 : callback();
        clearAssistant();
        yield client.stackClient.fetchJSON('POST', `/ai/chat/conversations/${conversationId}`, {
            q: value
        });
        setAssistantState(v => (Object.assign(Object.assign({}, v), { status: 'pending' })));
    }), [client, clearAssistant]);
    const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({
        assistantState,
        setAssistantState,
        clearAssistant,
        onAssistantExecute
    }), [assistantState, clearAssistant, onAssistantExecute]);
    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(AssistantContext.Provider, { value: value }, children));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_1___default().memo(AssistantProvider));


}),
"./node_modules/cozy-search/dist/components/Conversations/ChatAssistantItem.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* ESM import */var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js");
/* ESM import */var _ChatItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ChatItem.js");
/* ESM import */var _Sources_Sources__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/Sources/Sources.js");
/* ESM import */var _AssistantIcon_TwakeAssistantIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantIcon/TwakeAssistantIcon.js");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};






const ChatAssistantItem = (_a) => {
    var { label, className, id, sources } = _a, props = __rest(_a, ["label", "className", "id", "sources"]);
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_4__.useI18n)();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChatItem__WEBPACK_IMPORTED_MODULE_1__["default"], Object.assign({}, props, { label: label, className: className, icon: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_5__["default"], { icon: _AssistantIcon_TwakeAssistantIcon__WEBPACK_IMPORTED_MODULE_3__.TwakeAssistantIcon, size: 24, className: "u-mh-half", color: "var(--primaryColor)" }), name: t('assistant.name') })),
        (sources === null || sources === void 0 ? void 0 : sources.length) > 0 && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Sources_Sources__WEBPACK_IMPORTED_MODULE_2__["default"], { messageId: id, sources: sources })));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatAssistantItem);


}),
"./node_modules/cozy-search/dist/components/Conversations/ChatConversation.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/cozy-client/dist/index.js");
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_7__);
/* ESM import */var _ChatAssistantItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ChatAssistantItem.js");
/* ESM import */var _ChatRealtimeAnswer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ChatRealtimeAnswer.js");
/* ESM import */var _ChatUserItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ChatUserItem.js");
/* ESM import */var _AssistantProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantProvider.js");
/* ESM import */var _helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-search/dist/components/helpers.js");
/* ESM import */var _queries__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/cozy-search/dist/components/queries.js");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};








const ChatConversation = ({ conversation, myself }) => {
    var _a, _b, _c, _d, _e;
    const { assistantState } = (0,_AssistantProvider__WEBPACK_IMPORTED_MODULE_4__.useAssistant)();
    const listRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    const instantMessageKeysCount = Object.keys(assistantState.message).length;
    // test on role === user to be sure the last response is inside io.cozy.ai.chat.conversations
    const showRealtimeMessage = assistantState.status !== 'idle' ||
        ((_c = (_a = conversation === null || conversation === void 0 ? void 0 : conversation.messages) === null || _a === void 0 ? void 0 : _a[((_b = conversation === null || conversation === void 0 ? void 0 : conversation.messages) === null || _b === void 0 ? void 0 : _b.length) - 1]) === null || _c === void 0 ? void 0 : _c.role) ===
            'user';
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        var _a, _b;
        // force scroll down if new message of change in AI instant response
        (_b = (_a = listRef.current) === null || _a === void 0 ? void 0 : _a.lastElementChild) === null || _b === void 0 ? void 0 : _b.scrollIntoView(false);
    }, [
        (_d = conversation === null || conversation === void 0 ? void 0 : conversation.messages) === null || _d === void 0 ? void 0 : _d.length,
        assistantState.status,
        instantMessageKeysCount
    ]);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { ref: listRef }, (_e = conversation === null || conversation === void 0 ? void 0 : conversation.messages) === null || _e === void 0 ? void 0 :
        _e.map((message, idx) => {
            if (message.role === 'user') {
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChatUserItem__WEBPACK_IMPORTED_MODULE_3__["default"], { key: conversation._id + '--' + idx, className: "u-mt-1-half", myself: myself, label: message.content }));
            }
            if (idx !== (conversation === null || conversation === void 0 ? void 0 : conversation.messages.length) - 1) {
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChatAssistantItem__WEBPACK_IMPORTED_MODULE_1__["default"], { key: conversation._id + '--' + idx, className: "u-mt-1-half", id: message.id, label: message.content, sources: message.sources }));
            }
            if (showRealtimeMessage) {
                return null;
            }
            return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChatAssistantItem__WEBPACK_IMPORTED_MODULE_1__["default"], { key: conversation._id + '--' + idx, className: "u-mt-1-half", id: message.id, label: message.content, sources: message.sources }));
        }),
        showRealtimeMessage && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChatRealtimeAnswer__WEBPACK_IMPORTED_MODULE_2__["default"], { isLoading: assistantState.status === 'pending', label: (0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getInstantMessage)(assistantState) }))));
};
const ChatConversationWithQuery = ({ id, myself }) => {
    const chatConversationQuery = (0,_queries__WEBPACK_IMPORTED_MODULE_6__.buildChatConversationQueryById)(id);
    const _a = (0,cozy_client__WEBPACK_IMPORTED_MODULE_7__.useQuery)(chatConversationQuery.definition, chatConversationQuery.options), { data: chatConversation } = _a, queryResult = __rest(_a, ["data"]);
    const isLoading = (0,cozy_client__WEBPACK_IMPORTED_MODULE_7__.isQueryLoading)(queryResult);
    if (isLoading)
        return null;
    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChatConversation, { conversation: chatConversation, myself: myself });
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatConversationWithQuery);


}),
"./node_modules/cozy-search/dist/components/Conversations/ChatItem.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_Box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Box/index.js");
/* ESM import */var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* ESM import */var _ChatItemLabel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ChatItemLabel.js");




const ChatItem = ({ className, icon, name, label }) => {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Box__WEBPACK_IMPORTED_MODULE_2__["default"], { className: className, display: "flex", alignItems: "center", gridGap: 12 },
            icon,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_3__["default"], { variant: "h6", display: "inline" }, name)),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Box__WEBPACK_IMPORTED_MODULE_2__["default"], { pl: "44px" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChatItemLabel__WEBPACK_IMPORTED_MODULE_1__["default"], { label: label }))));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatItem);


}),
"./node_modules/cozy-search/dist/components/Conversations/ChatItemLabel.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_Markdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Markdown/index.js");
/* ESM import */var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/helpers.js");



const ChatItemLabel = ({ label }) => {
    if (typeof label === 'string') {
        const content = (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.sanitizeChatContent)(label);
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Markdown__WEBPACK_IMPORTED_MODULE_2__["default"], { content: content });
    }
    return label;
};
// need memo to avoid rendering all label of all items
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_0___default().memo(ChatItemLabel));


}),
"./node_modules/cozy-search/dist/components/Conversations/ChatRealtimeAnswer.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_Skeleton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Skeleton/index.js");
/* ESM import */var _ChatAssistantItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ChatAssistantItem.js");



const ChatRealtimeAnswer = ({ isLoading, label }) => {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChatAssistantItem__WEBPACK_IMPORTED_MODULE_1__["default"], { className: "u-mt-1-half", label: isLoading ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Skeleton__WEBPACK_IMPORTED_MODULE_2__["default"], { width: "100%" }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Skeleton__WEBPACK_IMPORTED_MODULE_2__["default"], { width: "60%" }))) : (label) }));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatRealtimeAnswer);


}),
"./node_modules/cozy-search/dist/components/Conversations/ChatUserItem.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_client_dist_models_contact__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-client/dist/models/contact.js");
/* ESM import */var cozy_ui_transpiled_react_Avatar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Avatar/index.js");
/* ESM import */var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js");
/* ESM import */var _ChatItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ChatItem.js");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};





const ChatUserItem = (_a) => {
    var { className, label, myself } = _a, props = __rest(_a, ["className", "label", "myself"]);
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_2__.useI18n)();
    const contact = myself || { displayName: t('assistant.default_username') };
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChatItem__WEBPACK_IMPORTED_MODULE_1__["default"], Object.assign({}, props, { className: className, icon: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Avatar__WEBPACK_IMPORTED_MODULE_3__["default"], { text: (0,cozy_client_dist_models_contact__WEBPACK_IMPORTED_MODULE_4__.getInitials)(contact), size: 24 }), name: (0,cozy_client_dist_models_contact__WEBPACK_IMPORTED_MODULE_4__.getDisplayName)(contact), label: label })));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatUserItem);


}),
"./node_modules/cozy-search/dist/components/Conversations/Conversation.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-client/dist/index.js");
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_3__);
/* ESM import */var _ChatConversation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ChatConversation.js");
/* ESM import */var _queries__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/queries.js");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};




const Conversation = ({ id }) => {
    const myselfQuery = (0,_queries__WEBPACK_IMPORTED_MODULE_2__.buildMyselfQuery)();
    const _a = (0,cozy_client__WEBPACK_IMPORTED_MODULE_3__.useQuery)(myselfQuery.definition, myselfQuery.options), { data: myselves } = _a, queryMyselfResult = __rest(_a, ["data"]);
    const isLoading = (0,cozy_client__WEBPACK_IMPORTED_MODULE_3__.isQueryLoading)(queryMyselfResult);
    if (isLoading)
        return null;
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "u-maw-7 u-mh-auto" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ChatConversation__WEBPACK_IMPORTED_MODULE_1__["default"], { id: id, myself: myselves[0] })));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Conversation);


}),
"./node_modules/cozy-search/dist/components/Conversations/ConversationBar.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/react-router/dist/index.js");
/* ESM import */var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Buttons/index.js");
/* ESM import */var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* ESM import */var cozy_ui_transpiled_react_Icons_Paperplane__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icons/Paperplane.js");
/* ESM import */var cozy_ui_transpiled_react_Icons_Stop__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icons/Stop.js");
/* ESM import */var cozy_ui_transpiled_react_SearchBar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/SearchBar/index.js");
/* ESM import */var cozy_ui_transpiled_react_hooks_useEventListener__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/hooks/useEventListener.js");
/* ESM import */var cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/Breakpoints/index.js");
/* ESM import */var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js");
/* ESM import */var _styles_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/styles.styl");
/* ESM import */var _AssistantProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantProvider.js");
/* ESM import */var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* ESM import */var _AssistantIcon_TwakeAssistantIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantIcon/TwakeAssistantIcon.js");
/* ESM import */var _AssistantIcon_TwakeAssistantIconColor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantIcon/TwakeAssistantIconColor.js");
/* ESM import */var _AssistantIcon_ExpertIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantIcon/ExpertIcon.js");
/* ESM import */var _AssistantIcon_KnowledgeBaseIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantIcon/KnowledgeBaseIcon.js");
/* ESM import */var _ConversationChips__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ConversationChips.js");



















const ConversationBar = ({ assistantStatus, hasConversationStarted }) => {
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_8__.useI18n)();
    const { isMobile } = (0,cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_9__.useBreakpoints)();
    const { onAssistantExecute } = (0,_AssistantProvider__WEBPACK_IMPORTED_MODULE_2__.useAssistant)();
    const [inputValue, setInputValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    const { conversationId } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_10__.useParams)();
    // to adjust input height for multiline when typing in it
    (0,cozy_ui_transpiled_react_hooks_useEventListener__WEBPACK_IMPORTED_MODULE_11__["default"])(inputRef.current, 'input', () => {
        inputRef.current.style.height = 'auto'; // to resize input when emptying it
        inputRef.current.style.height = `${inputRef.current.scrollHeight}px`;
    });
    const handleClear = () => {
        setInputValue('');
    };
    const handleChange = ev => {
        setInputValue(ev.target.value);
    };
    const handleStop = () => {
        // not supported right now
        return;
    };
    const handleClick = () => onAssistantExecute({ value: inputValue, conversationId }, () => {
        handleClear();
        inputRef.current.style.height = 'auto';
    });
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "u-w-100 u-maw-7 u-mh-auto" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: `${_styles_styl__WEBPACK_IMPORTED_MODULE_1__["default"].conversationBarSibling} ${hasConversationStarted ? _styles_styl__WEBPACK_IMPORTED_MODULE_1__["default"]["conversationBarSibling--started"] : ''} u-flex u-flex-column u-flex-items-center u-flex-justify-end` },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_12__["default"], { variant: "h3", align: "center", className: "u-mb-2" }, t('assistant.conversationBar.startMessage'))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_SearchBar__WEBPACK_IMPORTED_MODULE_13__["default"], { className: _styles_styl__WEBPACK_IMPORTED_MODULE_1__["default"].conversationBar, icon: null, size: "auto", placeholder: t('assistant.search.placeholder'), value: inputValue, disabledClear: true, componentsProps: {
                inputBase: {
                    inputRef: inputRef,
                    className: 'u-pv-0',
                    rows: 1,
                    multiline: true,
                    inputProps: {
                        className: _styles_styl__WEBPACK_IMPORTED_MODULE_1__["default"]["conversationBar-input"]
                    },
                    autoFocus: !isMobile,
                    startAdornment: (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_14__["default"], { classes: { label: 'u-w-2 u-h-2' }, label: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_15__["default"], { icon: "plus", size: 14 }), variant: "text", color: "inherit", style: { marginRight: 2, marginLeft: -12 } })),
                    endAdornment: (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: {
                            marginRight: -8,
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            gap: 4,
                            flex: "none"
                        } }, assistantStatus !== 'idle' ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_14__["default"], { component: "div", className: "u-miw-auto u-mih-auto u-w-2 u-h-2 u-bdrs-circle u-p-1 u-mr-1", classes: { label: 'u-flex u-w-auto' }, label: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_15__["default"], { icon: cozy_ui_transpiled_react_Icons_Stop__WEBPACK_IMPORTED_MODULE_16__["default"], size: 12 }), onClick: handleStop })) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_14__["default"], { component: "div", className: "u-miw-auto u-mih-auto u-w-2 u-h-2 u-bdrs-circle u-p-1 u-mr-1", classes: { label: 'u-flex u-w-auto' }, label: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_15__["default"], { icon: cozy_ui_transpiled_react_Icons_Paperplane__WEBPACK_IMPORTED_MODULE_17__["default"], size: 14 }), disabled: !inputValue, onClick: handleClick })))),
                    onKeyDown: ev => {
                        if (!isMobile) {
                            if (ev.shiftKey && ev.key === 'Enter') {
                                return ev;
                            }
                            if (ev.key === 'Enter') {
                                ev.preventDefault(); // prevent form submit
                                return handleClick();
                            }
                        }
                    }
                }
            }, onChange: handleChange }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: `${_styles_styl__WEBPACK_IMPORTED_MODULE_1__["default"].conversationBarSibling} ${hasConversationStarted ? _styles_styl__WEBPACK_IMPORTED_MODULE_1__["default"]["conversationBarSibling--started"] : ''} u-flex u-flex-column u-flex-items-center u-flex-justify-start` },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ConversationChips__WEBPACK_IMPORTED_MODULE_7__["default"], null))));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ConversationBar);


}),
"./node_modules/cozy-search/dist/components/Conversations/ConversationChips.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Buttons/index.js");
/* ESM import */var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* ESM import */var cozy_ui_transpiled_react_Chips__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Chips/index.js");
/* ESM import */var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js");
/* ESM import */var _styles_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/styles.styl");
/* ESM import */var _AssistantProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantProvider.js");
/* ESM import */var _AssistantIcon_TwakeAssistantIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantIcon/TwakeAssistantIcon.js");
/* ESM import */var _AssistantIcon_TwakeAssistantIconColor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantIcon/TwakeAssistantIconColor.js");
/* ESM import */var _AssistantIcon_ExpertIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantIcon/ExpertIcon.js");
/* ESM import */var _AssistantIcon_KnowledgeBaseIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantIcon/KnowledgeBaseIcon.js");
/* ESM import */var cozy_ui_transpiled_react_Alert__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Alert/index.js");
/* ESM import */var cozy_ui_transpiled_react_AlertTitle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/AlertTitle/index.js");




















const ChatModes = () => {
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_7__.useI18n)();
    const experts = [
        { key: "legal", label: t("assistant.experts.legal"), icon: 'justice', external: true },
        { key: 'financial', label: t("assistant.experts.financial"), icon: 'benefit' },
        { key: 'image_creation', label: t("assistant.experts.image_creation"), icon: 'image', external: true },
        { key: 'marketing', label: t("assistant.experts.marketing"), icon: 'lightning' },
        { key: 'code_assistant', label: t("assistant.experts.code_assistant"), icon: 'lightning' },
        { key: 'brainstorming', label: t("assistant.experts.brainstorming"), icon: 'lightbulb' },
        { key: 'travel_planner', label: t("assistant.experts.travel_planner"), icon: 'plane' },
        { key: 'fitness_coach', label: t("assistant.experts.fitness_coach"), icon: 'fitness' },
        { key: 'recipe_suggester', label: t("assistant.experts.recipe_suggester"), icon: 'restaurant' }
    ];
    const knowledges = [
        { key: "twake_knowledge", label: t('assistant.knowledge_bases.twake_knowledge'), icon: _AssistantIcon_TwakeAssistantIconColor__WEBPACK_IMPORTED_MODULE_4__.TwakeAssistantIconColor },
        { key: "web", label: t('assistant.knowledge_bases.web'), icon: 'globe' },
        { key: "linagora_client", label: t('assistant.knowledge_bases.linagora_client'), icon: 'collect' },
        { key: "security_procedures", label: t('assistant.knowledge_bases.security_procedures'), icon: 'lock' },
        { key: "other_1", label: t('assistant.knowledge_bases.other'), icon: 'globe' },
        { key: "other_2", label: t('assistant.knowledge_bases.other'), icon: 'globe' },
        { key: "other_3", label: t('assistant.knowledge_bases.other'), icon: 'globe' },
        { key: "other_4", label: t('assistant.knowledge_bases.other'), icon: 'globe' },
        { key: "other_5", label: t('assistant.knowledge_bases.other'), icon: 'globe' },
        { key: "other_6", label: t('assistant.knowledge_bases.other'), icon: 'globe' }
    ];
    const [selectedExpert, setSelectedExpert] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
    const [selectedKnowledges, setSelectedKnowledges] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(knowledges.map(knowledge => knowledge.key));
    const prevExpertRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
    const isExternalExpertSelected = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
        const expert = selectedExpert ? experts.find(e => e.key === selectedExpert) : null;
        return expert ? expert.external : false;
    }, [selectedExpert, experts]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        const prevExpert = prevExpertRef.current;
        const currentExpert = selectedExpert ? experts.find(e => e.key === selectedExpert) : null;
        if (!selectedExpert && prevExpert !== null) {
            setSelectedKnowledges(knowledges.map(knowledge => knowledge.key));
        }
        prevExpertRef.current = selectedExpert;
    }, [selectedExpert, experts, knowledges]);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "u-flex u-flex-column u-flex-items-start u-flex-justify-start, u-w-100" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChatKnowledges, { knowledges: knowledges, selectedKnowledges: selectedKnowledges, setSelectedKnowledges: setSelectedKnowledges }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChatExperts, { experts: experts, selectedExpert: selectedExpert, setSelectedExpert: setSelectedExpert }),
        isExternalExpertSelected && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ExternalExpertWarning, null))));
};
const ChatExperts = ({ experts, selectedExpert, setSelectedExpert }) => {
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_7__.useI18n)();
    const expertsState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => experts.map(expert => (Object.assign(Object.assign({}, expert), { selected: expert.key === selectedExpert }))), [selectedExpert, experts]);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChatChips, { modes: expertsState, onModeSelect: key => {
            setSelectedExpert(key === selectedExpert ? null : key);
        }, splice: 4, startIcon: _AssistantIcon_ExpertIcon__WEBPACK_IMPORTED_MODULE_5__.ExpertIcon, moreEndLabel: t('assistant.conversationBar.more.experts') }));
};
const ChatKnowledges = ({ knowledges, selectedKnowledges, setSelectedKnowledges }) => {
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_7__.useI18n)();
    const knowledgesState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => knowledges.map(knowledge => (Object.assign(Object.assign({}, knowledge), { selected: selectedKnowledges.includes(knowledge.key) }))), [selectedKnowledges]);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ChatChips, { modes: knowledgesState, onModeSelect: key => {
            if (selectedKnowledges.includes(key)) {
                setSelectedKnowledges(selectedKnowledges.filter(k => k !== key));
            }
            else {
                setSelectedKnowledges([...selectedKnowledges, key]);
            }
        }, splice: 4, startIcon: _AssistantIcon_KnowledgeBaseIcon__WEBPACK_IMPORTED_MODULE_6__.KnowledgeBaseIcon, moreEndLabel: t('assistant.conversationBar.more.knowledge_bases') }));
};
const ChatChips = ({ modes, onModeSelect, splice = 3, startIcon = _AssistantIcon_ExpertIcon__WEBPACK_IMPORTED_MODULE_5__.ExpertIcon, moreEndLabel }) => {
    const visibleModes = modes.slice(0, splice);
    const remainingCount = modes.length - splice;
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "u-flex u-flex-row u-flex-wrap u-w-100 u-flex-justify-between u-flex-items-center u-mb-1", style: { gap: 8 } },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], { icon: startIcon, size: 24, style: { opacity: 0.6 } }),
        visibleModes.map(mode => {
            const warningColor = mode.selected ? 'var(--warningColor)' : undefined;
            return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Chips__WEBPACK_IMPORTED_MODULE_9__["default"], { icon: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], { icon: mode.icon, style: { marginLeft: 12 } }), label: mode.label, clickable: true, onDelete: mode.external && (() => { }), deleteIcon: mode.external && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], { icon: "openwith", className: "u-h-1", style: { fill: warningColor, color: warningColor } }), color: (mode.external && mode.selected) ? 'warning' : undefined, key: mode.label, variant: mode.selected ? 'ghost' : 'default', style: {
                    borderStyle: 'solid'
                }, className: "u-mr-0", onClick: () => {
                    onModeSelect(mode.key);
                } }));
        }),
        remainingCount > 0 && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Chips__WEBPACK_IMPORTED_MODULE_9__["default"], { label: `+${remainingCount} ${moreEndLabel || 'more'}`, clickable: true, variant: "outlined" }))));
};
const ExternalExpertWarning = () => {
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_7__.useI18n)();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Alert__WEBPACK_IMPORTED_MODULE_10__["default"], { severity: "warning", style: { width: 'calc(100% - (16px * 2))' }, action: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_11__["default"], { variant: "text", label: t('assistant.experts.external_warning.know_more'), color: "warning" }) },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_AlertTitle__WEBPACK_IMPORTED_MODULE_12__["default"], null, t('assistant.experts.external_warning.title')),
        t('assistant.experts.external_warning.description')));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatModes);


}),
"./node_modules/cozy-search/dist/components/Conversations/ConversationLayout.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/Breakpoints/index.js");
/* ESM import */var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Buttons/index.js");
/* ESM import */var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* ESM import */var _AssistantProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantProvider.js");
/* ESM import */var _Conversations_Conversation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/Conversation.js");
/* ESM import */var _Conversations_ConversationBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ConversationBar.js");
/* ESM import */var _Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-search/dist/components/Stylus/Conversation.styl");
/* ESM import */var _ConversationList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/ConversationList.js");
/* ESM import */var cozy_ui_transpiled_react_AppTitle__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/AppTitle/index.js");
/* ESM import */var _queries__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/cozy-search/dist/components/queries.js");
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/cozy-client/dist/index.js");
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_8__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
















const ConversationLayout = ({ conversationId, assistantState }) => {
    const { isMobile } = (0,cozy_ui_transpiled_react_providers_Breakpoints__WEBPACK_IMPORTED_MODULE_7__.useBreakpoints)();
    const chatConversationQuery = (0,_queries__WEBPACK_IMPORTED_MODULE_6__.buildChatConversationQueryById)(conversationId !== null && conversationId !== void 0 ? conversationId : "");
    const _a = (0,cozy_client__WEBPACK_IMPORTED_MODULE_8__.useQuery)(chatConversationQuery.definition, chatConversationQuery.options), { data: chatConversation } = _a, queryResult = __rest(_a, ["data"]);
    const hasConversationStarted = chatConversation && chatConversation.messages.length > 0;
    const [historyOpen, setHistoryOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!isMobile);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: `${_Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"].conversationApp}` },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: `${_Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"].conversationHeader}` },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_AppTitle__WEBPACK_IMPORTED_MODULE_9__["default"], { slug: "home" })),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: `${_Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"].conversationLayout}` },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: `${_Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"].conversationSwitcher} ${historyOpen ? _Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"]["conversationSwitcher--open"] : _Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"]["conversationSwitcher--closed"]}` },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_10__["default"], { label: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__["default"], { icon: "burger" }), onClick: () => { setHistoryOpen(!historyOpen); }, variant: historyOpen ? "ghost" : "text", className: "u-bdrs-4", style: { padding: 0, minWidth: 36, height: 30 } }),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_10__["default"], { label: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_11__["default"], { icon: "magnifier" }), variant: "text", className: "u-bdrs-4", style: { padding: 0, minWidth: 36, height: 30 } })),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: `u-flex u-flex-column u-flex-items-center u-flex-justify-center ${_Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"].conversationHistory} ${historyOpen ? _Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"]["conversationHistory--open"] : ''} ${isMobile ? _Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"]["conversationHistory--mobile"] : ''}` },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ConversationList__WEBPACK_IMPORTED_MODULE_5__["default"], { onNewConversation: () => { } })),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: `${_Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"].conversationWindowContainer}` },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: `u-flex u-flex-column u-flex-items-center u-flex-justify-center ${_Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"].conversationWindow}` },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: `${_Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"].conversationContainer} ${hasConversationStarted ? _Stylus_Conversation_styl__WEBPACK_IMPORTED_MODULE_4__["default"]["conversationContainer--started"] : ''}` },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Conversations_Conversation__WEBPACK_IMPORTED_MODULE_2__["default"], { id: conversationId })),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Conversations_ConversationBar__WEBPACK_IMPORTED_MODULE_3__["default"], { assistantStatus: assistantState.status, hasConversationStarted: hasConversationStarted }))))));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ConversationLayout);


}),
"./node_modules/cozy-search/dist/components/Conversations/ConversationList.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Buttons/index.js");
/* ESM import */var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* ESM import */var cozy_ui_transpiled_react_List__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/List/index.js");
/* ESM import */var cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItem/index.js");
/* ESM import */var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* ESM import */var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Typography/index.js");
/* ESM import */var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js");
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-client/dist/index.js");
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* ESM import */var _queries__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/queries.js");
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/react-router/dist/index.js");
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/react-router-dom/dist/index.js");
/* ESM import */var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/helpers.js");












const ConversationList = ({ onNewConversation }) => {
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_3__.useI18n)();
    const client = (0,cozy_client__WEBPACK_IMPORTED_MODULE_4__.useClient)();
    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useNavigate)();
    const { conversationId } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useParams)();
    const [searchParams] = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useSearchParams)();
    const recentConvsQuery = (0,_queries__WEBPACK_IMPORTED_MODULE_1__.buildRecentConversationsQuery)();
    const goToConversation = (conversationId) => {
        navigate(`/assistant/${conversationId}${searchParams.toString() ? `?${searchParams.toString()}` : ''}`);
    };
    const createNewConversation = () => {
        const newConversationId = (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.makeConversationId)();
        goToConversation(newConversationId);
    };
    const { data: conversations, historyFetchStatus } = (0,cozy_client__WEBPACK_IMPORTED_MODULE_4__.useQuery)(recentConvsQuery.definition, recentConvsQuery.options);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "u-flex u-flex-column u-w-100 u-h-100 u-flex-align-center u-flex-justify-start" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: {
                height: 44
            } }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "u-m-1-half u-mb-0" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__["default"], { startIcon: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__["default"], { icon: "plus", size: 14 }), label: t('assistant.conversationBar.newChat'), onClick: createNewConversation, variant: "primary", className: "u-w-100 u-bdrs-6" })),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "u-ph-half u-mh-1 u-mb-half", variant: "subtitle1", color: "textSecondary" }, t('assistant.conversationList.recentConversations')),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: {
                height: '100%',
                width: '100%',
                overflow: 'scroll'
            } },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_List__WEBPACK_IMPORTED_MODULE_10__["default"], { className: "u-ph-half", disabledGutters: true }, conversations && conversations.map((conv, index) => {
                var _a, _b, _c;
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_11__["default"], { dense: true, button: true, className: "u-bdrs-4 u-mb-half", key: index, style: {
                        backgroundColor: conversationId === conv.id ? 'var(--defaultBackgroundColor)' : undefined,
                    }, onClick: () => goToConversation(conv.id) },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_12__["default"], null,
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_9__["default"], { variant: "body2" }, (_a = conv.messages[conv.messages.length - 1]) === null || _a === void 0 ? void 0 : _a.content),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_9__["default"], { variant: "subtitle1", color: "textSecondary" }, (_b = conv.messages[conv.messages.length - 1]) === null || _b === void 0 ? void 0 : _b.content),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_9__["default"], { variant: "caption", color: "textSecondary" }, new Date((_c = conv.cozyMetadata) === null || _c === void 0 ? void 0 : _c.updatedAt).toLocaleString()))));
            })))));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ConversationList);


}),
"./node_modules/cozy-search/dist/components/Conversations/Sources/Sources.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/cozy-client/dist/index.js");
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_10__);
/* ESM import */var cozy_ui_transpiled_react_Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Box/index.js");
/* ESM import */var cozy_ui_transpiled_react_Chips__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Chips/index.js");
/* ESM import */var cozy_ui_transpiled_react_Grow__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Grow/index.js");
/* ESM import */var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* ESM import */var cozy_ui_transpiled_react_Icons_MultiFiles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icons/MultiFiles.js");
/* ESM import */var cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icons/Right.js");
/* ESM import */var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js");
/* ESM import */var _SourcesItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/Sources/SourcesItem.js");
/* ESM import */var _queries__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/queries.js");
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};











const Sources = ({ messageId, files }) => {
    const [showSources, setShowSources] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_3__.useI18n)();
    const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    const handleShowSources = () => {
        setShowSources(v => !v);
    };
    // we want to scroll down to the sources button when it is displayed
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        var _a;
        (_a = ref.current) === null || _a === void 0 ? void 0 : _a.scrollIntoView(false);
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (showSources) {
            const sourcesBottom = ref.current.getBoundingClientRect().bottom;
            const innerContainer = document.getElementsByClassName('cozyDialogContent')[0];
            const innerContainerBottom = innerContainer.getBoundingClientRect().bottom;
            if (sourcesBottom > innerContainerBottom) {
                ref.current.scrollIntoView(false);
            }
        }
    }, [showSources]);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Box__WEBPACK_IMPORTED_MODULE_4__["default"], { ref: ref, className: "u-mt-1-half", pl: "44px" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Chips__WEBPACK_IMPORTED_MODULE_5__["default"], { className: "u-mb-1", icon: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], { icon: cozy_ui_transpiled_react_Icons_MultiFiles__WEBPACK_IMPORTED_MODULE_7__["default"], className: "u-ml-half" }), label: t('assistant.sources', files.length), deleteIcon: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_6__["default"], { className: "u-h-1", icon: cozy_ui_transpiled_react_Icons_Right__WEBPACK_IMPORTED_MODULE_8__["default"], rotate: showSources ? 90 : 0 }), clickable: true, onClick: handleShowSources, onDelete: handleShowSources }),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Grow__WEBPACK_IMPORTED_MODULE_9__["default"], { in: showSources, style: { transformOrigin: '0 0 0' }, mountOnEnter: true, unmountOnExit: true },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, files.map(file => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SourcesItem__WEBPACK_IMPORTED_MODULE_1__["default"], { key: `${messageId}-${file._id}`, file: file })))))));
};
const SourcesWithFilesQuery = ({ messageId, sources }) => {
    const fileIds = sources.map(source => source.id);
    const filesByIds = (0,_queries__WEBPACK_IMPORTED_MODULE_2__.buildFilesByIds)(fileIds);
    const _a = (0,cozy_client__WEBPACK_IMPORTED_MODULE_10__.useQuery)(filesByIds.definition, filesByIds.options), { data: files } = _a, queryResult = __rest(_a, ["data"]);
    const isLoading = (0,cozy_client__WEBPACK_IMPORTED_MODULE_10__.isQueryLoading)(queryResult);
    if (isLoading || files.length === 0)
        return null;
    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Sources, { messageId: messageId, files: files });
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SourcesWithFilesQuery);


}),
"./node_modules/cozy-search/dist/components/Conversations/Sources/SourcesItem.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-client/dist/index.js");
/* ESM import */var cozy_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_4__);
/* ESM import */var cozy_client_dist_models_file__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-client/dist/models/file.js");
/* ESM import */var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* ESM import */var cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItem/index.js");
/* ESM import */var cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItemIcon/index.js");
/* ESM import */var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* ESM import */var _styles_styl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/Conversations/Sources/styles.styl");
/* ESM import */var _Search_getIconForSearchResult__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/Search/getIconForSearchResult.js");









const getSlug = file => {
    if ((0,cozy_client_dist_models_file__WEBPACK_IMPORTED_MODULE_3__.isNote)(file)) {
        return 'notes';
    }
    if ((0,cozy_client_dist_models_file__WEBPACK_IMPORTED_MODULE_3__.isDocs)(file)) {
        return 'docs';
    }
    return 'drive';
};
const getHash = (file, slug) => {
    if (slug === 'notes') {
        return `/n/${file._id}`;
    }
    if (slug === 'docs') {
        return `/bridge/docs/${file.metadata.externalId}`;
    }
    return `/folder/${file.dir_id}/file/${file._id}`;
};
const SourcesItem = ({ file }) => {
    const client = (0,cozy_client__WEBPACK_IMPORTED_MODULE_4__.useClient)();
    const slug = getSlug(file);
    const hash = getHash(file, slug);
    const docUrl = (0,cozy_client__WEBPACK_IMPORTED_MODULE_4__.generateWebLink)({
        slug: slug,
        cozyUrl: client === null || client === void 0 ? void 0 : client.getStackClient().uri,
        subDomainType: client === null || client === void 0 ? void 0 : client.getInstanceOptions().subdomain,
        hash: hash
    });
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_5__["default"], { className: _styles_styl__WEBPACK_IMPORTED_MODULE_1__["default"].sourcesItem, component: "a", href: docUrl, target: "_blank", button: true },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_6__["default"], null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_7__["default"], { icon: (0,_Search_getIconForSearchResult__WEBPACK_IMPORTED_MODULE_2__.getDriveMimeTypeIcon)(file), size: 32 })),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_8__["default"], { primary: file.name, secondary: file.path.replace(file.name, '') })));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SourcesItem);


}),
"./node_modules/cozy-search/dist/components/ResultMenu/NoResultItem.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItem/index.js");
/* ESM import */var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* ESM import */var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js");




const NoResultItem = () => {
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_1__.useI18n)();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_2__["default"], { size: "small" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_3__["default"], { primary: t('assistant.search.noItem') })));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NoResultItem);


}),
"./node_modules/cozy-search/dist/components/ResultMenu/NotEnoughItem.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItem/index.js");
/* ESM import */var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* ESM import */var cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/providers/I18n/index.js");




const NotEnoughItem = () => {
    const { t } = (0,cozy_ui_transpiled_react_providers_I18n__WEBPACK_IMPORTED_MODULE_1__.useI18n)();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_2__["default"], { size: "small" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_3__["default"], { primary: t('assistant.search.notEnough') })));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NotEnoughItem);


}),
"./node_modules/cozy-search/dist/components/ResultMenu/ResultMenu.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_Paper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Paper/index.js");
/* ESM import */var cozy_ui_transpiled_react_Popper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Popper/index.js");
/* ESM import */var _ResultMenuContent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/ResultMenu/ResultMenuContent.js");
/* ESM import */var _styles_styl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/ResultMenu/styles.styl");





const ResultMenu = ({ anchorRef, listRef, onClear }) => {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Popper__WEBPACK_IMPORTED_MODULE_3__["default"], { style: {
            width: anchorRef.current.offsetWidth,
            zIndex: 'var(--zIndex-popover)'
        }, anchorEl: anchorRef.current, open: Boolean(anchorRef.current), placement: "bottom-start" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Paper__WEBPACK_IMPORTED_MODULE_4__["default"], { className: _styles_styl__WEBPACK_IMPORTED_MODULE_2__["default"].resultMenu, square: true },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: _styles_styl__WEBPACK_IMPORTED_MODULE_2__["default"]["resultMenu-inner"] },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ResultMenuContent__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: listRef, onClear: onClear })))));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ResultMenu);


}),
"./node_modules/cozy-search/dist/components/ResultMenu/ResultMenuContent.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_dataproxy_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-dataproxy-lib/dist/index.js");
/* ESM import */var cozy_ui_transpiled_react_List__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/List/index.js");
/* ESM import */var cozy_ui_transpiled_react_Skeletons_ListItemSkeleton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Skeletons/ListItemSkeleton.js");
/* ESM import */var _NoResultItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/ResultMenu/NoResultItem.js");
/* ESM import */var _NotEnoughItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/ResultMenu/NotEnoughItem.js");
/* ESM import */var _ResultMenuItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-search/dist/components/ResultMenu/ResultMenuItem.js");
/* ESM import */var _Search_SearchProvider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-search/dist/components/Search/SearchProvider.js");








const SearchResult = ({ onClear }) => {
    const { isLoading, results, selectedIndex, searchValue } = (0,_Search_SearchProvider__WEBPACK_IMPORTED_MODULE_5__.useSearch)();
    if (isLoading && !(results === null || results === void 0 ? void 0 : results.length)) {
        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Skeletons_ListItemSkeleton__WEBPACK_IMPORTED_MODULE_6__["default"], { hasSecondary: true }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Skeletons_ListItemSkeleton__WEBPACK_IMPORTED_MODULE_6__["default"], { hasSecondary: true }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Skeletons_ListItemSkeleton__WEBPACK_IMPORTED_MODULE_6__["default"], { hasSecondary: true })));
    }
    if (!isLoading && !(results === null || results === void 0 ? void 0 : results.length)) {
        if (searchValue.length >= 3) {
            return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NoResultItem__WEBPACK_IMPORTED_MODULE_2__["default"], null);
        }
        else {
            return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_NotEnoughItem__WEBPACK_IMPORTED_MODULE_3__["default"], null);
        }
    }
    return results.map((result, idx) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ResultMenuItem__WEBPACK_IMPORTED_MODULE_4__["default"], { key: result.id || idx, icon: result.icon, slug: result.slug, url: result.url, primaryText: result.primary, secondaryText: result.secondary, secondaryUrl: result.secondaryUrl, query: searchValue, highlightQuery: "true", selected: selectedIndex === idx, onClear: onClear })));
};
const ResultMenuContent = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ onClear }, ref) => {
    const { dataProxyServicesAvailable } = (0,cozy_dataproxy_lib__WEBPACK_IMPORTED_MODULE_1__.useDataProxy)();
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_List__WEBPACK_IMPORTED_MODULE_7__["default"], { ref: ref }, dataProxyServicesAvailable && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SearchResult, { onClear: onClear })));
});
ResultMenuContent.displayName = 'ResultMenuContent';
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ResultMenuContent);


}),
"./node_modules/cozy-search/dist/components/ResultMenu/ResultMenuItem.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* ESM import */var cozy_ui_transpiled_react_AppIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/AppIcon/index.js");
/* ESM import */var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/Icon/index.js");
/* ESM import */var cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItem/index.js");
/* ESM import */var cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItemIcon/index.js");
/* ESM import */var cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/cozy-ui/transpiled/react/ListItemText/index.js");
/* ESM import */var _SuggestionItemTextHighlighted__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/ResultMenu/SuggestionItemTextHighlighted.js");
/* ESM import */var _SuggestionItemTextSecondary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/ResultMenu/SuggestionItemTextSecondary.js");
/* ESM import */var _styles_styl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/ResultMenu/styles.styl");









const ResultMenuItem = ({ icon, url, primaryText, secondaryText, secondaryUrl, slug, selected, query, highlightQuery = false, onClear }) => {
    const itemRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    const iconComponent = icon.type === 'component' ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_4__["default"], { icon: icon.component, size: 32 })) : icon.type === 'app' ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_AppIcon__WEBPACK_IMPORTED_MODULE_5__["default"], { app: icon.app })) : (icon);
    const primary = highlightQuery ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SuggestionItemTextHighlighted__WEBPACK_IMPORTED_MODULE_1__["default"], { text: primaryText, query: query })) : (primaryText);
    const secondary = highlightQuery ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SuggestionItemTextSecondary__WEBPACK_IMPORTED_MODULE_2__["default"], { text: secondaryText, query: query, slug: slug, url: secondaryUrl })) : (secondaryText);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        var _a;
        if (selected) {
            (_a = itemRef === null || itemRef === void 0 ? void 0 : itemRef.current) === null || _a === void 0 ? void 0 : _a.scrollIntoView({
                behavior: 'smooth',
                block: 'nearest',
                inline: 'nearest'
            });
        }
    }, [selected]);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItem__WEBPACK_IMPORTED_MODULE_6__["default"], { component: "a", href: url, ref: itemRef, size: "small", selected: selected, className: _styles_styl__WEBPACK_IMPORTED_MODULE_3__["default"].resultMenuItem, onClick: onClear },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItemIcon__WEBPACK_IMPORTED_MODULE_7__["default"], null, iconComponent),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(cozy_ui_transpiled_react_ListItemText__WEBPACK_IMPORTED_MODULE_8__["default"], { primary: primary, secondary: secondary })));
};
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ResultMenuItem);


}),
"./node_modules/cozy-search/dist/index.js": (function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  AssistantDesktop: () => (/* reexport safe */ _components_AssistantDesktop__WEBPACK_IMPORTED_MODULE_1__["default"]),
  AssistantDialog: () => (/* reexport safe */ _components_Views_AssistantDialog__WEBPACK_IMPORTED_MODULE_3__["default"]),
  AssistantLink: () => (/* reexport safe */ _components_Search_AssistantLink__WEBPACK_IMPORTED_MODULE_0__["default"]),
  AssistantMobile: () => (/* reexport safe */ _components_AssistantMobile__WEBPACK_IMPORTED_MODULE_2__["default"]),
  SearchDialog: () => (/* reexport safe */ _components_Views_SearchDialog__WEBPACK_IMPORTED_MODULE_4__["default"])
});
/* ESM import */var _components_Search_AssistantLink__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/cozy-search/dist/components/Search/AssistantLink.js");
/* ESM import */var _components_AssistantDesktop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantDesktop.js");
/* ESM import */var _components_AssistantMobile__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/cozy-search/dist/components/AssistantMobile.js");
/* ESM import */var _components_Views_AssistantDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/cozy-search/dist/components/Views/AssistantDialog.js");
/* ESM import */var _components_Views_SearchDialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/cozy-search/dist/components/Views/SearchDialog.js");







}),

});
//# sourceMappingURL=cozy.2605de602354eb4d.hot-update.js.map